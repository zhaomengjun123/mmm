(function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="//mlogin.vip.com/asserts/",e(0)})([function(t,e,n){"use strict";function i(t){if(w.emit("login-reg-win","render-loginReg-win"),!T){var e=!1;t.isviva&&(e=!0),y.loginWin.init({data:{captcha:0,text:0,isviva:e,registerTips:p,mloginApiSwitch:k,optsSource:t.source,isChangeWeixinBind:t.isChangeWeixinBind},loginSuccess:function(){y.loginWin.close(),t.onWinLogin({success:!0,channel:"login"})},loginFail:function(){t.onWinLogin({success:!1,channel:"login"})},thirdData:t.thirdData||{},className:t.className||""}),T=!0}}function o(t){m.weixinAutoLogin(window.weixinData).then(function(){var t=window.location.href.indexOf("?")!=-1?"&":"?";window.location.href=location.href+t+"time="+(new Date).getTime()},function(){t&&t()})}function r(t){if(d.isWeixin())if(window.Mar&&Mar.Seed.request("body","load","H5_weixinlogin_mlogin",JSON.stringify({opts:t,host:location.host})),t.openid&&t.unionid){if($.extend(window.weixinData,{openid:t.openid,unionid:t.unionid,source:t.source||"",loginType:t.loginType||""}),t.isChangeWeixinBind)return i(t),y.loginWin.open(),g.getweixinInfoStatus(window.weixinData).then(function(t){1===t.status&&$(".J-mlogin-login-weixin").css("display","inline")}),!1;o(function(){i(t),y.loginWin.open()})}else m.getWeixinInfo(S,function(e){if(0===e.code){if($.extend(window.weixinData,e.data),t.isChangeWeixinBind)return i(t),y.loginWin.open(),g.getweixinInfoStatus(window.weixinData).then(function(t){1===t.status&&$(".J-mlogin-login-weixin").css("display","inline")}),!1;o(function(){i(t),y.loginWin.open()})}else e.code===-33?(window.localStorage.setItem("wxLoginPop",1),window.location.href=e.data.redirectUrl+"?fs="+e.data.fs+"&type="+e.data.type+"&src="+encodeURIComponent(location.href)):(i(t),y.loginWin.open())});else i(t),y.loginWin.open();var e=0;if(t.isviva?(e=1,window.Mar&&Mar.Seed.request("body","load","H5_login_pop",JSON.stringify({isviva:e.toString(),enter:"1"}))):window.Mar&&Mar.Seed.request("body","load","H5_login_first",JSON.stringify({enter:"1"})),window.localStorage){var n=localStorage.getItem("saveIphoneName"),r=localStorage.getItem("saveLoginName");n=n?f.decode(n):"",r=r?f.decode(r):"",/^1[3-9]\d{9}$/.test(n)&&$(".J-mlogin-ipt-mobile").val(n),(/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(r)||/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/.test(r))&&$(".J-mlogin-ipt-username").val(r);var s=$(".J-mlogin-ipt-mobile").val();s&&s.length>0&&$("button").removeClass("disabled")}}function s(){Object.keys(C).forEach(function(t){var e=C[t];Object.keys(e).forEach(function(n){var i=e[n];w.on(t,n,i)})}),$("body").on("touchmove","#J-register-win",function(t){$(window).height()>=$(this).height()&&t.stopPropagation()}),$("body").on("touchmove","#J-login-win",function(t){$(window).height()>=$(this).height()&&t.stopPropagation()}),w.on("login-reg-win","open-win",function(t){t.type;$("body").css({padding:"0"})}),w.on("login-reg-win","close-win",function(t){t.type;$("body").css({padding:""})})}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return E?void g.getVivaTips(e).then(function(e){E=!1,e.registerTips&&(p='<i class="mlogin-rectangle mlogin-icon-rectangle-selected J-rectangle-agree"></i>'+e.registerTips,$("#J-footer-tips").html(p)),0!=e.mloginApiSwitch&&(k=!0),"function"==typeof t&&t()},function(){"function"==typeof t&&t()}):("function"==typeof t&&t(),!1)}function c(t){var e={usePop:!0,isWeixinLogin:!1,isChangeWeixinBind:!1,openid:"",unionid:"",isviva:!1,backUrl:"",onWinLogin:function(){},onBeforeJumpLogin:function(){}};$.extend(e,t),r(e),_||(_=!0,s())}n(1),n(2);var l=n(17),u=n(18),h=u.getId();window.weixinData={domain_id:h};var p,d=n(19),f=n(21),m=n(22),g=n(25),v=n(26),y={loginWin:v.loginWin,exchangeLogin:v.exchangeLogin},w=n(32),b=n(20),x=b.get("WAP[from]"),S={fs:x,type:3},_=!1,T=!1,C={},E=!0,k=!1,P={go:function(t){C=t.eventHandlers||{},l&&"function"==typeof l&&(l(),l=null),a(function(){c(t)},t.tipsData||{})},automaticLogin:function(t,e){var n={};return d.isWeixin()&&""!=t.openid&&""!=t.unionid?void m.weixinAutoLogin(t).then(function(t){n.re=t,n.success=!0,e&&e(n)},function(t){n.r=t,n.success=!1,e&&e(n)}):(n.success=!1,e&&e(n),!1)}};y.exchangeLogin(),t.exports=P,window.loginDeal=P},function(t,e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t){return null==t?String(t):U[G.call(t)]||"object"}function e(e){return"function"==t(e)}function i(t){return null!=t&&t==t.window}function o(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function r(e){return"object"==t(e)}function s(t){return r(t)&&!i(t)&&Object.getPrototypeOf(t)==Object.prototype}function a(t){return"number"==typeof t.length}function c(t){return N.call(t,function(t){return null!=t})}function l(t){return t.length>0?C.fn.concat.apply([],t):t}function u(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function h(t){return t in D?D[t]:D[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function p(t,e){return"number"!=typeof e||L[u(t)]?e:e+"px"}function d(t){var e,n;return I[t]||(e=A.createElement(t),A.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),I[t]=n),I[t]}function f(t){return"children"in t?O.call(t.children):C.map(t.childNodes,function(t){if(1==t.nodeType)return t})}function m(t,e){var n,i=t?t.length:0;for(n=0;n<i;n++)this[n]=t[n];this.length=i,this.selector=e||""}function g(t,e,n){for(T in e)n&&(s(e[T])||tt(e[T]))?(s(e[T])&&!s(t[T])&&(t[T]={}),tt(e[T])&&!tt(t[T])&&(t[T]=[]),g(t[T],e[T],n)):e[T]!==_&&(t[T]=e[T])}function v(t,e){return null==e?C(t):C(t).filter(e)}function y(t,n,i,o){return e(n)?n.call(t,i,o):n}function w(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function b(t,e){var n=t.className||"",i=n&&n.baseVal!==_;return e===_?i?n.baseVal:n:void(i?n.baseVal=e:t.className=e)}function x(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?C.parseJSON(t):t):t}catch(e){return t}}function S(t,e){e(t);for(var n=0,i=t.childNodes.length;n<i;n++)S(t.childNodes[n],e)}var _,T,C,E,k,P,$=[],J=$.concat,N=$.filter,O=$.slice,A=window.document,I={},D={},L={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},j=/^\s*<(\w+|!)[^>]*>/,M=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,H=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,W=/^(?:body|html)$/i,X=/([A-Z])/g,F=["val","css","html","text","data","width","height","offset"],Y=["after","prepend","before","append"],q=A.createElement("table"),z=A.createElement("tr"),R={tr:A.createElement("tbody"),tbody:q,thead:q,tfoot:q,td:z,th:z,"*":A.createElement("div")},B=/complete|loaded|interactive/,V=/^[\w-]*$/,U={},G=U.toString,Z={},K=A.createElement("div"),Q={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},tt=Array.isArray||function(t){return t instanceof Array};return Z.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var i,o=t.parentNode,r=!o;return r&&(o=K).appendChild(t),i=~Z.qsa(o,e).indexOf(t),r&&K.removeChild(t),i},k=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},P=function(t){return N.call(t,function(e,n){return t.indexOf(e)==n})},Z.fragment=function(t,e,n){var i,o,r;return M.test(t)&&(i=C(A.createElement(RegExp.$1))),i||(t.replace&&(t=t.replace(H,"<$1></$2>")),e===_&&(e=j.test(t)&&RegExp.$1),e in R||(e="*"),r=R[e],r.innerHTML=""+t,i=C.each(O.call(r.childNodes),function(){r.removeChild(this)})),s(n)&&(o=C(i),C.each(n,function(t,e){F.indexOf(t)>-1?o[t](e):o.attr(t,e)})),i},Z.Z=function(t,e){return new m(t,e)},Z.isZ=function(t){return t instanceof Z.Z},Z.init=function(t,n){var i;if(!t)return Z.Z();if("string"==typeof t)if(t=t.trim(),"<"==t[0]&&j.test(t))i=Z.fragment(t,RegExp.$1,n),t=null;else{if(n!==_)return C(n).find(t);i=Z.qsa(A,t)}else{if(e(t))return C(A).ready(t);if(Z.isZ(t))return t;if(tt(t))i=c(t);else if(r(t))i=[t],t=null;else if(j.test(t))i=Z.fragment(t.trim(),RegExp.$1,n),t=null;else{if(n!==_)return C(n).find(t);i=Z.qsa(A,t)}}return Z.Z(i,t)},C=function(t,e){return Z.init(t,e)},C.extend=function(t){var e,n=O.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach(function(n){g(t,n,e)}),t},Z.qsa=function(t,e){var n,i="#"==e[0],o=!i&&"."==e[0],r=i||o?e.slice(1):e,s=V.test(r);return t.getElementById&&s&&i?(n=t.getElementById(r))?[n]:[]:1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType?[]:O.call(s&&!i&&t.getElementsByClassName?o?t.getElementsByClassName(r):t.getElementsByTagName(e):t.querySelectorAll(e))},C.contains=A.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},C.type=t,C.isFunction=e,C.isWindow=i,C.isArray=tt,C.isPlainObject=s,C.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},C.inArray=function(t,e,n){return $.indexOf.call(e,t,n)},C.camelCase=k,C.trim=function(t){return null==t?"":String.prototype.trim.call(t)},C.uuid=0,C.support={},C.expr={},C.noop=function(){},C.map=function(t,e){var n,i,o,r=[];if(a(t))for(i=0;i<t.length;i++)n=e(t[i],i),null!=n&&r.push(n);else for(o in t)n=e(t[o],o),null!=n&&r.push(n);return l(r)},C.each=function(t,e){var n,i;if(a(t)){for(n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(i in t)if(e.call(t[i],i,t[i])===!1)return t;return t},C.grep=function(t,e){return N.call(t,e)},window.JSON&&(C.parseJSON=JSON.parse),C.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){U["[object "+e+"]"]=e.toLowerCase()}),C.fn={constructor:Z.Z,length:0,forEach:$.forEach,reduce:$.reduce,push:$.push,sort:$.sort,splice:$.splice,indexOf:$.indexOf,concat:function(){var t,e,n=[];for(t=0;t<arguments.length;t++)e=arguments[t],n[t]=Z.isZ(e)?e.toArray():e;return J.apply(Z.isZ(this)?this.toArray():this,n)},map:function(t){return C(C.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return C(O.apply(this,arguments))},ready:function(t){return B.test(A.readyState)&&A.body?t(C):A.addEventListener("DOMContentLoaded",function(){t(C)},!1),this},get:function(t){return t===_?O.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return $.every.call(this,function(e,n){return t.call(e,n,e)!==!1}),this},filter:function(t){return e(t)?this.not(this.not(t)):C(N.call(this,function(e){return Z.matches(e,t)}))},add:function(t,e){return C(P(this.concat(C(t,e))))},is:function(t){return this.length>0&&Z.matches(this[0],t)},not:function(t){var n=[];if(e(t)&&t.call!==_)this.each(function(e){t.call(this,e)||n.push(this)});else{var i="string"==typeof t?this.filter(t):a(t)&&e(t.item)?O.call(t):C(t);this.forEach(function(t){i.indexOf(t)<0&&n.push(t)})}return C(n)},has:function(t){return this.filter(function(){return r(t)?C.contains(this,t):C(this).find(t).size()})},eq:function(t){return t===-1?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!r(t)?t:C(t)},last:function(){var t=this[this.length-1];return t&&!r(t)?t:C(t)},find:function(t){var e,i=this;return e=t?"object"==("undefined"==typeof t?"undefined":n(t))?C(t).filter(function(){var t=this;return $.some.call(i,function(e){return C.contains(e,t)})}):1==this.length?C(Z.qsa(this[0],t)):this.map(function(){return Z.qsa(this,t)}):C()},closest:function(t,e){var i=this[0],r=!1;for("object"==("undefined"==typeof t?"undefined":n(t))&&(r=C(t));i&&!(r?r.indexOf(i)>=0:Z.matches(i,t));)i=i!==e&&!o(i)&&i.parentNode;return C(i)},parents:function(t){for(var e=[],n=this;n.length>0;)n=C.map(n,function(t){if((t=t.parentNode)&&!o(t)&&e.indexOf(t)<0)return e.push(t),t});return v(e,t)},parent:function(t){return v(P(this.pluck("parentNode")),t)},children:function(t){return v(this.map(function(){return f(this)}),t)},contents:function(){return this.map(function(){return this.contentDocument||O.call(this.childNodes)})},siblings:function(t){return v(this.map(function(t,e){return N.call(f(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return C.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=d(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var n=e(t);if(this[0]&&!n)var i=C(t).get(0),o=i.parentNode||this.length>1;return this.each(function(e){C(this).wrapAll(n?t.call(this,e):o?i.cloneNode(!0):i)})},wrapAll:function(t){if(this[0]){C(this[0]).before(t=C(t));for(var e;(e=t.children()).length;)t=e.first();C(t).append(this)}return this},wrapInner:function(t){var n=e(t);return this.each(function(e){var i=C(this),o=i.contents(),r=n?t.call(this,e):t;o.length?o.wrapAll(r):i.append(r)})},unwrap:function(){return this.parent().each(function(){C(this).replaceWith(C(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=C(this);(t===_?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return C(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return C(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each(function(e){var n=this.innerHTML;C(this).empty().append(y(this,t,e,n))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var n=y(this,t,e,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(t,e){var n;return"string"!=typeof t||1 in arguments?this.each(function(n){if(1===this.nodeType)if(r(t))for(T in t)w(this,T,t[T]);else w(this,t,y(this,e,n,this.getAttribute(t)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(t))&&t in this[0]?this[0][t]:n:_},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(" ").forEach(function(t){w(this,t)},this)})},prop:function(t,e){return t=Q[t]||t,1 in arguments?this.each(function(n){this[t]=y(this,e,n,this[t])}):this[0]&&this[0][t]},data:function et(t,e){var n="data-"+t.replace(X,"-$1").toLowerCase(),et=1 in arguments?this.attr(n,e):this.attr(n);return null!==et?x(et):_},val:function(t){return 0 in arguments?this.each(function(e){this.value=y(this,t,e,this.value)}):this[0]&&(this[0].multiple?C(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each(function(e){var n=C(this),i=y(this,t,e,n.offset()),o=n.offsetParent().offset(),r={top:i.top-o.top,left:i.left-o.left};"static"==n.css("position")&&(r.position="relative"),n.css(r)});if(!this.length)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function nt(e,n){if(arguments.length<2){var i,o=this[0];if(!o)return;if(i=getComputedStyle(o,""),"string"==typeof e)return o.style[k(e)]||i.getPropertyValue(e);if(tt(e)){var r={};return C.each(e,function(t,e){r[e]=o.style[k(e)]||i.getPropertyValue(e)}),r}}var nt="";if("string"==t(e))n||0===n?nt=u(e)+":"+p(e,n):this.each(function(){this.style.removeProperty(u(e))});else for(T in e)e[T]||0===e[T]?nt+=u(T)+":"+p(T,e[T])+";":this.each(function(){this.style.removeProperty(u(T))});return this.each(function(){this.style.cssText+=";"+nt})},index:function(t){return t?this.indexOf(C(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return!!t&&$.some.call(this,function(t){return this.test(b(t))},h(t))},addClass:function(t){return t?this.each(function(e){if("className"in this){E=[];var n=b(this),i=y(this,t,e,n);i.split(/\s+/g).forEach(function(t){C(this).hasClass(t)||E.push(t)},this),E.length&&b(this,n+(n?" ":"")+E.join(" "))}}):this},removeClass:function(t){return this.each(function(e){if("className"in this){if(t===_)return b(this,"");E=b(this),y(this,t,e,E).split(/\s+/g).forEach(function(t){E=E.replace(h(t)," ")}),b(this,E.trim())}})},toggleClass:function(t,e){return t?this.each(function(n){var i=C(this),o=y(this,t,n,b(this));o.split(/\s+/g).forEach(function(t){(e===_?!i.hasClass(t):e)?i.addClass(t):i.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return t===_?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return t===_?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),i=W.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(C(t).css("margin-top"))||0,n.left-=parseFloat(C(t).css("margin-left"))||0,i.top+=parseFloat(C(e[0]).css("border-top-width"))||0,i.left+=parseFloat(C(e[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||A.body;t&&!W.test(t.nodeName)&&"static"==C(t).css("position");)t=t.offsetParent;return t})}},C.fn.detach=C.fn.remove,["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});C.fn[t]=function(n){var r,s=this[0];return n===_?i(s)?s["inner"+e]:o(s)?s.documentElement["scroll"+e]:(r=this.offset())&&r[t]:this.each(function(e){s=C(this),s.css(t,y(this,n,e,s[t]()))})}}),Y.forEach(function(e,n){var i=n%2;C.fn[e]=function(){var e,o,r=C.map(arguments,function(n){return e=t(n),"object"==e||"array"==e||null==n?n:Z.fragment(n)}),s=this.length>1;return r.length<1?this:this.each(function(t,e){o=i?e:e.parentNode,e=0==n?e.nextSibling:1==n?e.firstChild:2==n?e:null;var a=C.contains(A.documentElement,o);r.forEach(function(t){if(s)t=t.cloneNode(!0);else if(!o)return C(t).remove();o.insertBefore(t,e),a&&S(t,function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},C.fn[i?e+"To":"insert"+(n?"Before":"After")]=function(t){return C(t)[e](this),this}}),Z.Z.prototype=m.prototype=C.fn,Z.uniq=P,Z.deserializeValue=x,C.zepto=Z,C}();window.Zepto=i,void 0===window.$&&(window.$=i),function(t){function e(t){return t._zid||(t._zid=p++)}function n(t,n,r,s){if(n=i(n),n.ns)var a=o(n.ns);return(g[e(t)]||[]).filter(function(t){return t&&(!n.e||t.e==n.e)&&(!n.ns||a.test(t.ns))&&(!r||e(t.fn)===e(r))&&(!s||t.sel==s)})}function i(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function o(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function r(t,e){return t.del&&!y&&t.e in w||!!e}function s(t){return b[t]||y&&w[t]||t}function a(n,o,a,c,u,p,d){var f=e(n),m=g[f]||(g[f]=[]);o.split(/\s/).forEach(function(e){if("ready"==e)return t(document).ready(a);var o=i(e);o.fn=a,o.sel=u,o.e in b&&(a=function(e){var n=e.relatedTarget;if(!n||n!==this&&!t.contains(this,n))return o.fn.apply(this,arguments)}),o.del=p;var f=p||a;o.proxy=function(t){if(t=l(t),!t.isImmediatePropagationStopped()){try{t.data=c}catch(t){console.log(t.message)}var e=f.apply(n,t._args==h?[t]:[t].concat(t._args));return e===!1&&(t.preventDefault(),t.stopPropagation()),e}},o.i=m.length,m.push(o),"addEventListener"in n&&n.addEventListener(s(o.e),o.proxy,r(o,d))})}function c(t,i,o,a,c){var l=e(t);(i||"").split(/\s/).forEach(function(e){n(t,e,o,a).forEach(function(e){delete g[l][e.i],"removeEventListener"in t&&t.removeEventListener(s(e.e),e.proxy,r(e,c))})})}function l(e,n){return!n&&e.isDefaultPrevented||(n||(n=e),t.each(T,function(t,i){var o=n[t];e[t]=function(){return this[i]=x,o&&o.apply(n,arguments)},e[i]=S}),(n.defaultPrevented!==h?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(e.isDefaultPrevented=x)),e}function u(t){var e,n={originalEvent:t};for(e in t)_.test(e)||t[e]===h||(n[e]=t[e]);return l(n,t)}var h,p=1,d=Array.prototype.slice,f=t.isFunction,m=function(t){return"string"==typeof t},g={},v={},y="onfocusin"in window,w={focus:"focusin",blur:"focusout"},b={mouseenter:"mouseover",mouseleave:"mouseout"};v.click=v.mousedown=v.mouseup=v.mousemove="MouseEvents",t.event={add:a,remove:c},t.proxy=function(n,i){var o=2 in arguments&&d.call(arguments,2);if(f(n)){var r=function(){return n.apply(i,o?o.concat(d.call(arguments)):arguments)};return r._zid=e(n),r}if(m(i))return o?(o.unshift(n[i],n),t.proxy.apply(null,o)):t.proxy(n[i],n);throw new TypeError("expected function")},t.fn.bind=function(t,e,n){return this.on(t,e,n)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,n,i){return this.on(t,e,n,i,1)};var x=function(){return!0},S=function(){return!1},_=/^([A-Z]|returnValue$|layer[XY]$)/,T={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(t,e,n){return this.on(e,t,n)},t.fn.undelegate=function(t,e,n){return this.off(e,t,n)},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,n,i,o,r){var s,l,p=this;return e&&!m(e)?(t.each(e,function(t,e){p.on(t,n,i,e,r)}),p):(m(n)||f(o)||o===!1||(o=i,i=n,n=h),o!==h&&i!==!1||(o=i,i=h),o===!1&&(o=S),p.each(function(h,p){r&&(s=function(t){return c(p,t.type,o),o.apply(this,arguments)}),n&&(l=function(e){var i,r=t(e.target).closest(n,p).get(0);if(r&&r!==p)return i=t.extend(u(e),{currentTarget:r,liveFired:p}),(s||o).apply(r,[i].concat(d.call(arguments,1)))}),a(p,e,o,i,n,l||s)}))},t.fn.off=function(e,n,i){var o=this;return e&&!m(e)?(t.each(e,function(t,e){o.off(t,n,e)}),o):(m(n)||f(i)||i===!1||(i=n,n=h),i===!1&&(i=S),o.each(function(){c(this,e,i,n)}))},t.fn.trigger=function(e,n){return e=m(e)||t.isPlainObject(e)?t.Event(e):l(e),e._args=n,this.each(function(){e.type in w&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,n)})},t.fn.triggerHandler=function(e,i){var o,r;return this.each(function(s,a){o=u(m(e)?t.Event(e):e),o._args=i,o.target=a,t.each(n(a,e.type||e),function(t,e){if(r=e.proxy(o),o.isImmediatePropagationStopped())return!1})}),r},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}}),t.Event=function(t,e){m(t)||(e=t,t=e.type);var n=document.createEvent(v[t]||"Events"),i=!0;if(e)for(var o in e)"bubbles"==o?i=!!e[o]:n[o]=e[o];return n.initEvent(t,i,!0),l(n)}}(i),function(t){function e(e,n,i){var o=t.Event(n);return t(e).trigger(o,i),!o.isDefaultPrevented()}function n(t,n,i,o){if(t.global)return e(n||y,i,o)}function i(e){e.global&&0===t.active++&&n(e,null,"ajaxStart")}function o(e){e.global&&!--t.active&&n(e,null,"ajaxStop")}function r(t,e){var i=e.context;return e.beforeSend.call(i,t,e)!==!1&&n(e,i,"ajaxBeforeSend",[t,e])!==!1&&void n(e,i,"ajaxSend",[t,e])}function s(t,e,i,o){var r=i.context,s="success";i.success.call(r,t,s,e),o&&o.resolveWith(r,[t,s,e]),n(i,r,"ajaxSuccess",[e,i,t]),c(s,e,i)}function a(t,e,i,o,r){var s=o.context;o.error.call(s,i,e,t),r&&r.rejectWith(s,[i,e,t]),n(o,s,"ajaxError",[i,o,t||e]),c(e,i,o)}function c(t,e,i){var r=i.context;i.complete.call(r,e,t),n(i,r,"ajaxComplete",[e,i]),o(i)}function l(){}function u(t){return t&&(t=t.split(";",2)[0]),t&&(t==_?"html":t==S?"json":b.test(t)?"script":x.test(t)&&"xml")||"text"}function h(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function p(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=h(e.url,e.data),e.data=void 0)}function d(e,n,i,o){return t.isFunction(n)&&(o=i,i=n,n=void 0),t.isFunction(i)||(o=i,i=void 0),{url:e,data:n,success:i,dataType:o}}function f(e,n,i,o){var r,s=t.isArray(n),a=t.isPlainObject(n);t.each(n,function(n,c){r=t.type(c),o&&(n=i?o:o+"["+(a||"object"==r||"array"==r?n:"")+"]"),!o&&s?e.add(c.name,c.value):"array"==r||!i&&"object"==r?f(e,c,i,n):e.add(n,c)})}var m,g,v=0,y=window.document,w=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,b=/^(?:text|application)\/javascript/i,x=/^(?:text|application)\/xml/i,S="application/json",_="text/html",T=/^\s*$/,C=y.createElement("a");C.href=window.location.href,t.active=0,t.ajaxJSONP=function(e,n){if(!("type"in e))return t.ajax(e);var i,o,c=e.jsonpCallback,l=(t.isFunction(c)?c():c)||"jsonp"+ ++v,u=y.createElement("script"),h=window[l],p=function(e){t(u).triggerHandler("error",e||"abort")},d={abort:p};return n&&n.promise(d),t(u).on("load error",function(r,c){clearTimeout(o),t(u).off().remove(),"error"!=r.type&&i?s(i[0],d,e,n):a(null,c||"error",d,e,n),window[l]=h,i&&t.isFunction(h)&&h(i[0]),h=i=void 0}),r(d,e)===!1?(p("abort"),d):(window[l]=function(){i=arguments},u.src=e.url.replace(/\?(.+)=\?/,"?$1="+l),y.head.appendChild(u),e.timeout>0&&(o=setTimeout(function(){p("timeout")},e.timeout)),d)},t.ajaxSettings={type:"GET",beforeSend:l,success:l,error:l,complete:l,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:S,xml:"application/xml, text/xml",html:_,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var n,o,c=t.extend({},e||{}),d=t.Deferred&&t.Deferred();for(m in t.ajaxSettings)void 0===c[m]&&(c[m]=t.ajaxSettings[m]);i(c),c.crossDomain||(n=y.createElement("a"),n.href=c.url,n.href=n.href,c.crossDomain=C.protocol+"//"+C.host!=n.protocol+"//"+n.host),c.url||(c.url=window.location.toString()),(o=c.url.indexOf("#"))>-1&&(c.url=c.url.slice(0,o)),p(c);var f=c.dataType,v=/\?.+=\?/.test(c.url);if(v&&(f="jsonp"),c.cache!==!1&&(e&&e.cache===!0||"script"!=f&&"jsonp"!=f)||(c.url=h(c.url,"_="+Date.now())),"jsonp"==f)return v||(c.url=h(c.url,c.jsonp?c.jsonp+"=?":c.jsonp===!1?"":"callback=?")),t.ajaxJSONP(c,d);var w,b=c.accepts[f],x={},S=function(t,e){x[t.toLowerCase()]=[t,e]},_=/^([\w-]+:)\/\//.test(c.url)?RegExp.$1:window.location.protocol,E=c.xhr(),k=E.setRequestHeader;if(d&&d.promise(E),c.crossDomain||S("X-Requested-With","XMLHttpRequest"),S("Accept",b||"*/*"),(b=c.mimeType||b)&&(b.indexOf(",")>-1&&(b=b.split(",",2)[0]),E.overrideMimeType&&E.overrideMimeType(b)),(c.contentType||c.contentType!==!1&&c.data&&"GET"!=c.type.toUpperCase())&&S("Content-Type",c.contentType||"application/x-www-form-urlencoded"),c.headers)for(g in c.headers)S(g,c.headers[g]);E.setRequestHeader=S;var P=!("async"in c)||c.async;if(E.open(c.type,c.url,P,c.username,c.password),E.onreadystatechange=function(){if(4==E.readyState){E.onreadystatechange=l,clearTimeout(w);var e,n=!1;if(E.status>=200&&E.status<300||304==E.status||0==E.status&&"file:"==_){f=f||u(c.mimeType||E.getResponseHeader("content-type")),e=E.responseText;try{"script"==f?(0,eval)(e):"xml"==f?e=E.responseXML:"json"==f&&(e=T.test(e)?null:t.parseJSON(e))}catch(i){n=i}n?a(n,"parsererror",E,c,d):s(e,E,c,d)}else a(E.statusText||null,E.status?"error":"abort",E,c,d)}},r(E,c)===!1)return E.abort(),a(null,"abort",E,c,d),E;if(c.xhrFields)for(g in c.xhrFields)E[g]=c.xhrFields[g];for(g in x)k.apply(E,x[g]);return c.timeout>0&&(w=setTimeout(function(){E.onreadystatechange=l,E.abort(),a(null,"timeout",E,c,d)},c.timeout)),E.send(c.data?c.data:null),E},t.get=function(){return t.ajax(d.apply(null,arguments))},t.post=function(){var e=d.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=d.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,n,i){if(!this.length)return this;var o,r=this,s=e.split(/\s/),a=d(e,n,i),c=a.success;return s.length>1&&(a.url=s[0],o=s[1]),a.success=function(e){r.html(o?t("<div>").html(e.replace(w,"")).find(o):e),c&&c.apply(r,arguments)},t.ajax(a),this};var E=encodeURIComponent;t.param=function(e,n){var i=[];return i.add=function(e,n){t.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(E(e)+"="+E(n))},f(i,e,n),i.join("&").replace(/%20/g,"+")}}(i),function(t){t.fn.serializeArray=function(){var e,n,i=[],o=function r(t){return t.forEach?t.forEach(r):void i.push({name:e,value:t})};return this[0]&&t.each(this[0].elements,function(i,r){n=r.type,e=r.name,e&&"fieldset"!=r.nodeName.toLowerCase()&&!r.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||r.checked)&&o(t(r).val())}),i},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},t.fn.submit=function(e){if(0 in arguments)this.bind("submit",e);else if(this.length){var n=t.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(i),function(){try{getComputedStyle(void 0)}catch(t){var e=getComputedStyle;window.getComputedStyle=function(t){try{return e(t)}catch(n){return null}}}}(),function(t){function e(t,e){var n=this.os={},i=this.browser={},o=t.match(/Web[kK]it[\/]{0,1}([\d.]+)/),r=t.match(/(Android);?[\s\/]+([\d.]+)?/),s=!!t.match(/\(Macintosh\; Intel /),a=t.match(/(iPad).*OS\s([\d_]+)/),c=t.match(/(iPod)(.*OS\s([\d_]+))?/),l=!a&&t.match(/(iPhone\sOS)\s([\d_]+)/),u=t.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),h=/Win\d{2}|Windows/.test(e),p=t.match(/Windows Phone ([\d.]+)/),d=u&&t.match(/TouchPad/),f=t.match(/Kindle\/([\d.]+)/),m=t.match(/Silk\/([\d._]+)/),g=t.match(/(BlackBerry).*Version\/([\d.]+)/),v=t.match(/(BB10).*Version\/([\d.]+)/),y=t.match(/(RIM\sTablet\sOS)\s([\d.]+)/),w=t.match(/PlayBook/),b=t.match(/Chrome\/([\d.]+)/)||t.match(/CriOS\/([\d.]+)/),x=t.match(/Firefox\/([\d.]+)/),S=t.match(/\((?:Mobile|Tablet); rv:([\d.]+)\).*Firefox\/[\d.]+/),_=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),T=!b&&t.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),C=T||t.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);(i.webkit=!!o)&&(i.version=o[1]),r&&(n.android=!0,n.version=r[2]),l&&!c&&(n.ios=n.iphone=!0,n.version=l[2].replace(/_/g,".")),a&&(n.ios=n.ipad=!0,n.version=a[2].replace(/_/g,".")),c&&(n.ios=n.ipod=!0,n.version=c[3]?c[3].replace(/_/g,"."):null),p&&(n.wp=!0,n.version=p[1]),u&&(n.webos=!0,n.version=u[2]),d&&(n.touchpad=!0),g&&(n.blackberry=!0,n.version=g[2]),v&&(n.bb10=!0,n.version=v[2]),y&&(n.rimtabletos=!0,n.version=y[2]),w&&(i.playbook=!0),f&&(n.kindle=!0,n.version=f[1]),m&&(i.silk=!0,i.version=m[1]),!m&&n.android&&t.match(/Kindle Fire/)&&(i.silk=!0),b&&(i.chrome=!0,i.version=b[1]),x&&(i.firefox=!0,i.version=x[1]),S&&(n.firefoxos=!0,n.version=S[1]),_&&(i.ie=!0,i.version=_[1]),C&&(s||n.ios||h)&&(i.safari=!0,n.ios||(i.version=C[1])),T&&(i.webview=!0),n.tablet=!!(a||w||r&&!t.match(/Mobile/)||x&&t.match(/Tablet/)||_&&!t.match(/Phone/)&&t.match(/Touch/)),n.phone=!(n.tablet||n.ipod||!(r||l||u||g||v||b&&t.match(/Android/)||b&&t.match(/CriOS\/([\d.]+)/)||x&&t.match(/Mobile/)||_&&t.match(/Touch/)))}e.call(t,navigator.userAgent,navigator.platform),
t.__detect=e}(i),function(t,e){function i(t){return t.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function o(t){return r?r+t:t.toLowerCase()}var r,s,a,c,l,u,h,p,d,f,m="",g={Webkit:"webkit",Moz:"",O:"o"},v=document.createElement("div"),y=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,w={};t.each(g,function(t,n){if(v.style[t+"TransitionProperty"]!==e)return m="-"+t.toLowerCase()+"-",r=n,!1}),s=m+"transform",w[a=m+"transition-property"]=w[c=m+"transition-duration"]=w[u=m+"transition-delay"]=w[l=m+"transition-timing-function"]=w[h=m+"animation-name"]=w[p=m+"animation-duration"]=w[f=m+"animation-delay"]=w[d=m+"animation-timing-function"]="",t.fx={off:r===e&&v.style.transitionProperty===e,speeds:{_default:400,fast:200,slow:600},cssPrefix:m,transitionEnd:o("TransitionEnd"),animationEnd:o("AnimationEnd")},t.fn.animate=function(n,i,o,r,s){return t.isFunction(i)&&(r=i,o=e,i=e),t.isFunction(o)&&(r=o,o=e),t.isPlainObject(i)&&(o=i.easing,r=i.complete,s=i.delay,i=i.duration),i&&(i=("number"==typeof i?i:t.fx.speeds[i]||t.fx.speeds._default)/1e3),s&&(s=parseFloat(s)/1e3),this.anim(n,i,o,r,s)},t.fn.anim=function(o,r,m,g,v){var b,x,S,_={},T="",C=this,E=t.fx.transitionEnd,k=!1;if(r===e&&(r=t.fx.speeds._default/1e3),v===e&&(v=0),t.fx.off&&(r=0),"string"==typeof o)_[h]=o,_[p]=r+"s",_[f]=v+"s",_[d]=m||"linear",E=t.fx.animationEnd;else{x=[];for(b in o)y.test(b)?T+=b+"("+o[b]+") ":(_[b]=o[b],x.push(i(b)));T&&(_[s]=T,x.push(s)),r>0&&"object"===("undefined"==typeof o?"undefined":n(o))&&(_[a]=x.join(", "),_[c]=r+"s",_[u]=v+"s",_[l]=m||"linear")}return S=function(e){if("undefined"!=typeof e){if(e.target!==e.currentTarget)return;t(e.target).unbind(E,S)}else t(this).unbind(E,S);k=!0,t(this).css(w),g&&g.call(this)},r>0&&(this.bind(E,S),setTimeout(function(){k||S.call(C)},1e3*(r+v)+25)),this.size()&&this.get(0).clientLeft,this.css(_),r<=0&&setTimeout(function(){C.each(function(){S.call(this)})},0),this},v=null}(i),function(t,e){function n(n,i,o,r,s){"function"!=typeof i||s||(s=i,i=e);var a={opacity:o};return r&&(a.scale=r,n.css(t.fx.cssPrefix+"transform-origin","0 0")),n.animate(a,i,null,s)}function i(e,i,o,r){return n(e,i,0,o,function(){s.call(t(this)),r&&r.call(this)})}var o=window.document,r=(o.documentElement,t.fn.show),s=t.fn.hide,a=t.fn.toggle;t.fn.show=function(t,i){return r.call(this),t===e?t=0:this.css("opacity",0),n(this,t,1,"1,1",i)},t.fn.hide=function(t,n){return t===e?s.call(this):i(this,t,"0,0",n)},t.fn.toggle=function(n,i){return n===e||"boolean"==typeof n?a.call(this,n):this.each(function(){var e=t(this);e["none"==e.css("display")?"show":"hide"](n,i)})},t.fn.fadeTo=function(t,e,i){return n(this,t,e,null,i)},t.fn.fadeIn=function(t,e){var n=this.css("opacity");return n>0?this.css("opacity",0):n=1,r.call(this).fadeTo(t,n,e)},t.fn.fadeOut=function(t,e){return i(this,t,null,e)},t.fn.fadeToggle=function(e,n){return this.each(function(){var i=t(this);i[0==i.css("opacity")||"none"==i.css("display")?"fadeIn":"fadeOut"](e,n)})}}(i),function(t){var e,n=[];t.fn.remove=function(){return this.each(function(){this.parentNode&&("IMG"===this.tagName&&(n.push(this),this.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",e&&clearTimeout(e),e=setTimeout(function(){n=[]},6e4)),this.parentNode.removeChild(this))})}}(i),function(t){function e(e,i){var c=e[a],l=c&&o[c];if(void 0===i)return l||n(e);if(l){if(i in l)return l[i];var u=s(i);if(u in l)return l[u]}return r.call(t(e),i)}function n(e,n,r){var c=e[a]||(e[a]=++t.uuid),l=o[c]||(o[c]=i(e));return void 0!==n&&(l[s(n)]=r),l}function i(e){var n={};return t.each(e.attributes||c,function(e,i){0==i.name.indexOf("data-")&&(n[s(i.name.replace("data-",""))]=t.zepto.deserializeValue(i.value))}),n}var o={},r=t.fn.data,s=t.camelCase,a=t.expando="Zepto"+ +new Date,c=[];t.fn.data=function(i,o){return void 0===o?t.isPlainObject(i)?this.each(function(e,o){t.each(i,function(t,e){n(o,t,e)})}):0 in this?e(this[0],i):void 0:this.each(function(){n(this,i,o)})},t.fn.removeData=function(e){return"string"==typeof e&&(e=e.split(/\s+/)),this.each(function(){var n=this[a],i=n&&o[n];i&&t.each(e||i,function(t){delete i[e?s(this):t]})})},["remove","empty"].forEach(function(e){var n=t.fn[e];t.fn[e]=function(){var t=this.find("*");return"remove"===e&&(t=t.add(this)),t.removeData(),n.call(this)}})}(i),function(t){t.Callbacks=function(e){e=t.extend({},e);var n,i,o,r,s,a,c=[],l=!e.once&&[],u=function p(t){for(n=e.memory&&t,i=!0,a=r||0,r=0,s=c.length,o=!0;c&&a<s;++a)if(c[a].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}o=!1,c&&(l?l.length&&p(l.shift()):n?c.length=0:h.disable())},h={add:function d(){if(c){var i=c.length,d=function a(n){t.each(n,function(t,n){"function"==typeof n?e.unique&&h.has(n)||c.push(n):n&&n.length&&"string"!=typeof n&&a(n)})};d(arguments),o?s=c.length:n&&(r=i,u(n))}return this},remove:function(){return c&&t.each(arguments,function(e,n){for(var i;(i=t.inArray(n,c,i))>-1;)c.splice(i,1),o&&(i<=s&&--s,i<=a&&--a)}),this},has:function(e){return!(!c||!(e?t.inArray(e,c)>-1:c.length))},empty:function(){return s=c.length=0,this},disable:function(){return c=l=n=void 0,this},disabled:function(){return!c},lock:function(){return l=void 0,n||h.disable(),this},locked:function(){return!l},fireWith:function(t,e){return!c||i&&!l||(e=e||[],e=[t,e.slice?e.slice():e],o?l.push(e):u(e)),this},fire:function(){return h.fireWith(this,arguments)},fired:function(){return!!i}};return h}}(i),function(t){function e(n){var i=[["resolve","done",t.Callbacks({once:1,memory:1}),"resolved"],["reject","fail",t.Callbacks({once:1,memory:1}),"rejected"],["notify","progress",t.Callbacks({memory:1})]],o="pending",r={state:function(){return o},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var n=arguments;return e(function(e){t.each(i,function(i,o){var a=t.isFunction(n[i])&&n[i];s[o[1]](function(){var n=a&&a.apply(this,arguments);if(n&&t.isFunction(n.promise))n.promise().done(e.resolve).fail(e.reject).progress(e.notify);else{var i=this===r?e.promise():this,s=a?[n]:arguments;e[o[0]+"With"](i,s)}})}),n=null}).promise()},promise:function(e){return null!=e?t.extend(e,r):r}},s={};return t.each(i,function(t,e){var n=e[2],a=e[3];r[e[1]]=n.add,a&&n.add(function(){o=a},i[1^t][2].disable,i[2][2].lock),s[e[0]]=function(){return s[e[0]+"With"](this===s?r:this,arguments),this},s[e[0]+"With"]=n.fireWith}),r.promise(s),n&&n.call(s,s),s}var n=Array.prototype.slice;t.when=function(i){var o,r,s,a=n.call(arguments),c=a.length,l=0,u=1!==c||i&&t.isFunction(i.promise)?c:0,h=1===u?i:e(),p=function(t,e,i){return function(r){e[t]=this,i[t]=arguments.length>1?n.call(arguments):r,i===o?h.notifyWith(e,i):--u||h.resolveWith(e,i)}};if(c>1)for(o=new Array(c),r=new Array(c),s=new Array(c);l<c;++l)a[l]&&t.isFunction(a[l].promise)?a[l].promise().done(p(l,s,a)).fail(h.reject).progress(p(l,r,o)):--u;return u||h.resolveWith(s,a),h.promise()},t.Deferred=e}(i),function(t){function e(e){return e=t(e),!(!e.width()&&!e.height())&&"none"!==e.css("display")}function n(t,e){t=t.replace(/=#\]/g,'="#"]');var n,i,o=a.exec(t);if(o&&o[2]in s&&(n=s[o[2]],i=o[3],t=o[1],i)){var r=Number(i);i=isNaN(r)?i.replace(/^["']|["']$/g,""):r}return e(t,n,i)}var i=t.zepto,o=i.qsa,r=i.matches,s=t.expr[":"]={visible:function(){if(e(this))return this},hidden:function(){if(!e(this))return this},selected:function(){if(this.selected)return this},checked:function(){if(this.checked)return this},parent:function(){return this.parentNode},first:function(t){if(0===t)return this},last:function(t,e){if(t===e.length-1)return this},eq:function(t,e,n){if(t===n)return this},contains:function(e,n,i){if(t(this).text().indexOf(i)>-1)return this},has:function(t,e,n){if(i.qsa(this,n).length)return this}},a=new RegExp("(.*):(\\w+)(?:\\(([^)]+)\\))?$\\s*"),c=/^\s*>/,l="Zepto"+ +new Date;i.qsa=function(e,r){return n(r,function(n,s,a){try{var u;!n&&s?n="*":c.test(n)&&(u=t(e).addClass(l),n="."+l+" "+n);var h=o(e,n)}catch(p){throw console.error("error performing selector: %o",r),p}finally{u&&u.removeClass(l)}return s?i.uniq(t.map(h,function(t,e){return s.call(t,e,h,a)})):h})},i.matches=function(t,e){return n(e,function(e,n,i){return(!e||r(t,e))&&(!n||n.call(t,null,i)===t)})}}(i),function(t){function e(t,e,n,i){return Math.abs(t-e)>=Math.abs(n-i)?t-e>0?"Left":"Right":n-i>0?"Up":"Down"}function n(){u=null,p.last&&(p.el.trigger("longTap"),p={})}function i(){u&&clearTimeout(u),u=null}function o(){a&&clearTimeout(a),c&&clearTimeout(c),l&&clearTimeout(l),u&&clearTimeout(u),a=c=l=u=null,p={}}function r(t){return("touch"==t.pointerType||t.pointerType==t.MSPOINTER_TYPE_TOUCH)&&t.isPrimary}function s(t,e){return t.type=="pointer"+e||t.type.toLowerCase()=="mspointer"+e}var a,c,l,u,h,p={},d=750;t(document).ready(function(){var f,m,g,v,y=0,w=0;"MSGesture"in window&&(h=new MSGesture,h.target=document.body),t(document).bind("MSGestureEnd",function(t){var e=t.velocityX>1?"Right":t.velocityX<-1?"Left":t.velocityY>1?"Down":t.velocityY<-1?"Up":null;e&&(p.el.trigger("swipe"),p.el.trigger("swipe"+e))}).on("touchstart MSPointerDown pointerdown",function(e){(v=s(e,"down"))&&!r(e)||(g=v?e:e.touches[0],e.touches&&1===e.touches.length&&p.x2&&(p.x2=void 0,p.y2=void 0),f=Date.now(),m=f-(p.last||f),p.el=t("tagName"in g.target?g.target:g.target.parentNode),a&&clearTimeout(a),p.x1=g.pageX,p.y1=g.pageY,m>0&&m<=250&&(p.isDoubleTap=!0),p.last=f,u=setTimeout(n,d),h&&v&&h.addPointer(e.pointerId))}).on("touchmove MSPointerMove pointermove",function(t){(v=s(t,"move"))&&!r(t)||(g=v?t:t.touches[0],i(),p.x2=g.pageX,p.y2=g.pageY,y+=Math.abs(p.x1-p.x2),w+=Math.abs(p.y1-p.y2))}).on("touchend MSPointerUp pointerup",function(n){(v=s(n,"up"))&&!r(n)||(i(),p.x2&&Math.abs(p.x1-p.x2)>30||p.y2&&Math.abs(p.y1-p.y2)>30?l=setTimeout(function(){p.el.trigger("swipe"),p.el.trigger("swipe"+e(p.x1,p.x2,p.y1,p.y2)),p={}},0):"last"in p&&(y<30&&w<30?c=setTimeout(function(){var e=t.Event("tap");e.cancelTouch=o,p.el&&p.el.trigger(e),p.isDoubleTap?(p.el&&p.el.trigger("doubleTap"),p={}):a=setTimeout(function(){a=null,p.el&&p.el.trigger("singleTap"),p={}},250)},0):p={}),y=w=0)}).on("touchcancel MSPointerCancel pointercancel",o),t(window).on("scroll",o)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(e){t.fn[e]=function(t){return this.on(e,t)}})}(i),function(t){t.fn.end=function(){return this.prevObject||t()},t.fn.andSelf=function(){return this.add(this.prevObject||t())},"filter,add,not,eq,first,last,find,closest,parents,parent,children,siblings".split(",").forEach(function(e){var n=t.fn[e];t.fn[e]=function(){var t=n.apply(this,arguments);return t.prevObject=this,t}})}(i)},function(t,e){},,,,,,,,,,,,,,,function(t,e){"use strict";function n(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://captcha.vip.com/getbootstrap",t.onload=function(){window.VipSecureCode&&VipSecureCode.init()},document.body.appendChild(t)}t.exports=n},function(t,e){"use strict";function n(){var t=1;switch(window.location.host){case"mcheckout.vip.com":t=8;break;case"mst-vis-admin.vip.com":t=7;break;case"mst-admin.vip.vip.com":t=6;break;case"weixin.vip.com":t=5;break;case"viva.vip.com":t=4;break;case"mst.vip.com":t=3;break;case"m.vipglobal.hk":t=2}return t}e.getId=n},function(t,e,n){"use strict";var i=n(20),o=window,r=o.location,s={genLocation:function(t){var e=t.split("&"),n={};return e.map(function(t){var e=t.split("=");if(e.length){var i=e[0],o=e.slice(1,e.length).join("=");n[i]=o}}),n},query:function(t){var e=r.search.substr(1),n=e.split("&"),i={};return n.map(function(t){var e=t.split("=");e[0]&&(i[e[0]]=e[1])}),t?i[t]:i},queryV2:function(t){var e=s.genLocation(r.search.substr(1));return t?e[t]:e},getSubmitData:function(t){t=t||$("body");var e=t.find("[data-submit]").filter(":visible"),n={};return e.each(function(){var t=$(this),e=t.attr("name"),i=t.data("submit"),o=t[0].nodeName.toLowerCase();if(""===i&&(i=t.val()),"i"!==o||(e=t.parent().parent().attr("name"),t.hasClass("selected")))return e||"i"==o||i.indexOf(",")==-1?void(n[e]=i):void i.split("|").forEach(function(t,e){var i=t.split(",");n[i[0]]=i[1]})}),n},isWeixin:function(){var t=window.navigator.userAgent.toLowerCase();return"micromessenger"==t.match(/MicroMessenger/i)},getClientType:function(){if(i.get("client"))return i.get("client");var t=window.navigator.userAgent.toLowerCase();return t.match(/iphone/i)?"iphone":t.match(/android/i)?"android":t.match(/ipad/i)?"ipad":"wap"},parseObjToUrlStr:function(t){var e=[];for(var n in t)e.push(n+"="+t[n]);return e.join("&")},spellUrl:function(t,e){if(!t)return"";if(!e)return t;var n=Object.keys(e).map(function(t){var n=decodeURIComponent(e[t]);return n=encodeURIComponent(n),t+"="+n}).join("&"),i="?";return t.indexOf("?")!==-1&&(i="&"),""+t+i+n}};t.exports=s},function(t,e,n){var i,o;"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(function(r){i=r,o="function"==typeof i?i.call(e,n,e,t):i,!(void 0!==o&&(t.exports=o))})(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function e(n){function i(e,o,r){var s;if(arguments.length>1){if(r=t({path:"/"},i.defaults,r),"number"==typeof r.expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*r.expires),r.expires=a}try{s=JSON.stringify(o),/^[\{\[]/.test(s)&&(o=s)}catch(c){}return o=encodeURIComponent(String(o)),o=o.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)),e=e.replace(/%(23|24|26|2B|5E|5B|5D|60|7C)/g,decodeURIComponent),e=e.replace(/[\(\)]/g,escape),document.cookie=[e,"=",o,r.expires&&"; expires="+r.expires.toUTCString(),r.path&&"; path="+r.path,r.domain&&"; domain="+r.domain,r.secure?"; secure":""].join("")}e||(s={});for(var l=document.cookie?document.cookie.split("; "):[],u=/(%[0-9A-Z]{2})+/g,h=0;h<l.length;h++){var p=l[h].split("="),d=p[0].replace(u,decodeURIComponent),f=p.slice(1).join("=");'"'===f.charAt(0)&&(f=f.slice(1,-1));try{if(f=n&&n(f,d)||f.replace(u,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch(c){}if(e===d){s=f;break}e||(s[d]=f)}catch(c){}}return s}return i.get=i.set=i,i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(e,n){i(e,"",t(n,{expires:-1}))},i.withConverter=e,i}return e()})},function(t,e){"use strict";var n={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var e,i,o,r,s,a,c,l="",u=0;for(t=n._utf8_encode(t);u<t.length;)e=t.charCodeAt(u++),i=t.charCodeAt(u++),o=t.charCodeAt(u++),r=e>>2,s=(3&e)<<4|i>>4,a=(15&i)<<2|o>>6,c=63&o,isNaN(i)?a=c=64:isNaN(o)&&(c=64),l=l+this._keyStr.charAt(r)+this._keyStr.charAt(s)+this._keyStr.charAt(a)+this._keyStr.charAt(c);return l},decode:function(t){var e,i,o,r,s,a,c,l="",u=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<t.length;)r=this._keyStr.indexOf(t.charAt(u++)),s=this._keyStr.indexOf(t.charAt(u++)),a=this._keyStr.indexOf(t.charAt(u++)),c=this._keyStr.indexOf(t.charAt(u++)),e=r<<2|s>>4,i=(15&s)<<4|a>>2,o=(3&a)<<6|c,l+=String.fromCharCode(e),64!=a&&(l+=String.fromCharCode(i)),64!=c&&(l+=String.fromCharCode(o));return l=n._utf8_decode(l)},_utf8_encode:function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);128>i?e+=String.fromCharCode(i):i>127&&2048>i?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e},_utf8_decode:function(t){for(var e="",n=0,i=0,o=0,r=0;r<t.length;)n=t.charCodeAt(r),128>n?(e+=String.fromCharCode(n),r++):n>191&&224>n?(i=t.charCodeAt(r+1),e+=String.fromCharCode((31&n)<<6|63&i),r+=2):(i=t.charCodeAt(r+1),o=t.charCodeAt(r+2),e+=String.fromCharCode((15&n)<<12|(63&i)<<6|63&o),r+=3);return e}};t.exports=n},function(t,e,n){"use strict";function i(t){return T.req({data:t,url:k.GETWEIXININFOSTATUS,type:"POST",xhrFields:{withCredentials:!0}})}function o(t){return T.req({data:t,url:k.WEIXINAUTOLOGIN,type:"POST",xhrFields:{withCredentials:!0}})}function r(t){return T.req({data:t,url:k.WEIXINREGISTERLOGIN,type:"POST",xhrFields:{withCredentials:!0}})}function s(t,e){return $.ajax({type:"GET",url:k.GETWEIXININFO,data:t,dataType:"jsonp",jsonp:"jsonp",timeout:2e3,success:function(t){e(t)},error:function(t){e(t)}})}function a(t){return T.req({data:t,url:k.GETNEWCAPTCHA,type:"POST",xhrFields:{withCredentials:!0}})}function c(t){var e=k.NEWREGISTER;return C.isWeixin()&&$.extend(t,window.weixinData),T.req({data:t,url:e,type:"POST",xhrFields:{withCredentials:!0}})}function l(t){var e=k.NEWLOGIN;return C.isWeixin()&&$.extend(t,window.weixinData),T.req({data:t,url:e,type:"POST",xhrFields:{withCredentials:!0}})}function u(t){return C.isWeixin()&&$.extend(t,window.weixinData),T.req({data:t,url:k.LOGIN,type:"POST",xhrFields:{withCredentials:!0}})}function h(t){return T.req({data:t,url:k.REGISTER,type:"POST",xhrFields:{withCredentials:!0}})}function p(t){return T.req({data:t,url:k.AUTHCODE,type:"POST",xhrFields:{withCredentials:!0}})}function d(t){return T.req({data:t,url:k.CAPTCHA,type:"POST",xhrFields:{withCredentials:!0}})}function f(t){return T.req({data:t,url:k.CAPTCHAFRESHEN,type:"POST",xhrFields:{withCredentials:!0}})}function m(t){return C.isWeixin()&&$.extend(t,window.weixinData),T.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:k.CHECK})}function g(t){return C.isWeixin()&&$.extend(t,window.weixinData),T.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:k.EXCHANGETOKEN})}function v(t){return C.isWeixin()&&$.extend(t,window.weixinData),T.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:k.SELECTACCOUNT})}function y(t){return T.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:k.GETVIVATIPS})}function w(t){return T.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:k.GETUISWITCH})}function b(t){return T.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:k.THIRDAUTOLOGIN})}function x(t){return T.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:k.ISLOGINED})}function S(t){return T.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:k.GETTHIRDINFO})}function _(t){return T.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:k.THIRDTRYLOGIN})}n(1);var T=n(23),C=n(19),E="//mlogin.vip.com/ajaxapi-user.html",k={LOGIN:E+"?act=loginV2",REGISTER:E+"?act=register",AUTHCODE:E+"?act=create",CHECK:E+"?act=check",CAPTCHA:E+"?act=send",CAPTCHAFRESHEN:E+"?act=freshen",NEWLOGIN:E+"?act=newLogin",NEWREGISTER:E+"?act=newRegister",GETNEWCAPTCHA:E+"?act=getNewCaptcha",GETWEIXININFO:"//weixin-api.vip.com/user/getUserInfo",WEIXINREGISTERLOGIN:E+"?act=weixinRegisterLogin",GETWEIXININFOSTATUS:E+"?act=weixinInfoStatus",WEIXINAUTOLOGIN:E+"?act=weixinAutoLogin",EXCHANGETOKEN:E+"?act=exchangeToken",SELECTACCOUNT:E+"?act=selectAccount",GETVIVATIPS:E+"?act=getVivaTips",GETUISWITCH:E+"?act=getUiSwitch",THIRDAUTOLOGIN:E+"?act=thirdAutoLogin",ISLOGINED:E+"?act=isLogined",GETTHIRDINFO:E+"?act=getThirdInfo",THIRDTRYLOGIN:E+"?act=thirdTryLogin"};e.login=u,e.register=h,e.newRegister=c,e.newLogin=l,e.authCode=p,e.sendCaptcha=d,e.freshenCaptcha=f,e.checkSmscode=m,e.getNewCaptcha=a,e.getweixinInfoStatus=i,e.weixinRegisterLogin=r,e.getWeixinInfo=s,e.weixinAutoLogin=o,e.exchangeToken=g,e.selectAccount=v,e.getVivaTips=y,e.getUiSwitch=w,e.thirdAutoLogin=b,e.isLogined=x,e.getThirdInfo=S,e.thirdTryLogin=_},function(t,e,n){"use strict";function i(t){function e(e){var i=t.url.replace(/\//g,"_");void 0!==e.code&&r(i+"_fail_"+(e.code||999999)),n.reject(e)}var n=$.Deferred();if(!t.url)throw Error("request url required");t.type||(t.type="GET"),t.timeout||(t.timeout=1e4),delete t.success,delete t.error,delete t.complete,t.data||(t.data={}),t.data._t=Date.now(),t.cache=!1;var i=t.url.replace(/\//g,"_");$.ajax(t).done(function(t){t&&1==t.code?n.resolve(t.data||{}):(t.msg=t.msg||"网络超时，请重试！",r("error",{code:t.code,event:i,error:i+":"+t.code,info:t.msg}),e(t))}).fail(function(t,n,o){var s=t.status;r("error",{status:s,event:i,error:i+":"+n,errType:n,info:n+"_"+(o||"")}),e(o&&o.msg||{msg:"网络超时，请重试！"})});var o=n.promise();return $.isFunction(s)&&o.fail(s),o}function o(t){s=t}var r=n(24),s=null;e.req=e.request=i,e.filter=o},function(t,e,n){"use strict";var i=n(19),o=function(t){var e,n=[];for(e in t)(t[e]||0===t[e])&&n.push(e+"="+t[e]);return n.join("&")},r=function(t,e){return $?$.inArray(t,e):e.indexOf(t)},s=function(t,e){var n;return this.baseReportUrl="//stat.vipstatic.com/h5front/report",this.setErrUrl=function(t,e){var n=this.baseReportUrl,s=i.query();e=e||{};var a=o({resolution:!(!s.height||!s.width)&&s.height+"*"+s.width,area_id:s.area_id||!1,network:s.net||!1,app_name:s.app_name||!1,warehouse:s.warehouse||!1,app_version:s.app_version||!1,client:s.client||!1,mid:s.mars_cid||!1,app_channel:s.mobile_channel||!1,idfv:s.idfv||!1,protocol_version:s.protocol_version||!1,pathname:encodeURIComponent(location.pathname.replace(/[\/\.]/g,"_")),service_code:e.code||!1,http_status:e.status,exception_type:r(e.errType,["timeout","abort"])>-1?"page_exception_network":!!e.errType&&"page_exception_service",request_url:e.event||!1,rpc_code:e.error||!1,domain:location.host||!1,exception_info:!!e.info&&encodeURIComponent(e.info)});return n=n+"?"+a+"&r="+Math.random()},this.request=function(t){var e=new Image(1,1);return e.onload=e.onerror=e.onabort=function(){e.onload=e.onerror=e.onabort=null,e=null},e.src=t,t},n=this.setErrUrl(t,e),this.request(n)},a=function(t,e){new s(t,e)};t.exports=a},function(t,e,n){"use strict";function i(t){return m.isWeixin()&&$.extend(t,window.weixinData),f.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:v.CAPTCHAPRE})}function o(t){return m.isWeixin()&&$.extend(t,window.weixinData),f.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:v.PWDLOGIN})}function r(t){return m.isWeixin()&&$.extend(t,window.weixinData),f.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:v.SELECTACCOUNT})}function s(t){return m.isWeixin()&&$.extend(t,window.weixinData),f.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:v.EXCHANGETOKENLOGIN})}function a(t){return m.isWeixin()&&$.extend(t,window.weixinData),f.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:v.WEIXINREGISTERLOGIN})}function c(t){return m.isWeixin()&&$.extend(t,window.weixinData),f.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:v.WEIXININFOSTATUS})}function l(t){return m.isWeixin()&&$.extend(t,window.weixinData),f.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:v.GETVIVATIPS})}function u(t){return m.isWeixin()&&$.extend(t,window.weixinData),f.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:v.THIRDTRYLOGIN})}function h(t){return m.isWeixin()&&$.extend(t,window.weixinData),f.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:v.SENDSMS})}function p(t){return m.isWeixin()&&$.extend(t,window.weixinData),f.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:v.CHECKV2})}function d(t){return m.isWeixin()&&$.extend(t,window.weixinData),f.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:v.MOBILELOGIN})}n(1);var f=n(23),m=n(19),g="//mlogin-api.vip.com/ajaxapi-user.html",v={CAPTCHAPRE:g+"?act=captchaPre",PWDLOGIN:g+"?act=pwdLoginV2",SELECTACCOUNT:g+"?act=selectAccountV2",EXCHANGETOKENLOGIN:g+"?act=exchangeTokenLogin",WEIXINREGISTERLOGIN:g+"?act=weixinRegisterLogin",WEIXININFOSTATUS:g+"?act=weixinInfoStatus",GETVIVATIPS:g+"?act=getVivaTips",SENDSMS:g+"?act=sendSms",CHECKV2:g+"?act=checkV2",MOBILELOGIN:g+"?act=mobileLogin",THIRDTRYLOGIN:g+"?act=thirdTryLogin"};e.captchaPre=i,e.pwdLogin=o,e.selectAccount=r,e.exchangeToken=s,e.weixinRegisterLogin=a,e.getweixinInfoStatus=c,e.getVivaTips=l,e.sendSms=h,e.checkV2=p,e.mobileLogin=d,e.thirdTryLogin=u},function(t,e,n){"use strict";function i(){return L.mobileFastValidate(ct[0],ut[0],rt,function(t){t.domain_id=V,t.serialno=tt.getOption("serialno")})}function o(){var t=at.find(".J-mlogin-ipt-username")[0],e=at.find(".J-mlogin-ipt-password")[0],n=$(".J-mlogin-ipt-captcha:visible")[0];return L.accountNormalValidate(t,e,n)}function r(t){if(t.preventDefault(),st.cancel=!1,st.close=!1,$(t.currentTarget).hasClass("disabled"))return!1;var e=o();return"string"==typeof e?(C.showError(ht,e),!1):(nt=j().show(),void pt.checkNeed(function(t){if(e=o(),st.cancel||st.close)return!1;if("string"==typeof e)return t?$(".J-secure-text").text(e):C.showError(ht,e),nt.hide(),!1;e.third_data=K.thirdData||{};var n=$(".J-mlogin-ipt-captcha").data("captcha-type");if(n&&(e.captcha_type=n),C.hideError(ht),st.captchaTypePwd)if(e.captchaType=st.captchaTypePwd,e.captchaId=st.captchaId,e.ticket=st.ticket,window.VipSecureCode){var i=VipSecureCode.getFpData();e.info=i?JSON.stringify(i):Y}else e.info=Y;e.sid=st.sid,e.scene="LOGIN_WAP",e.source=it,k.pwdLogin(e).then(function(e){t&&t.close(),O.emit("login-reg-win","login-success"),K.loginSuccess&&K.loginSuccess(),z.open(e.msg||"登录成功",2e3),P.send("H5_active_new_login",'{"type":"pwd","status":"1","way":"-99","enter":"3"}')},function(e){s(e,t),P.send("H5_active_new_login",'{"type":"pwd","status":"0","status_des":"'+e.msg+'","way":"-99","enter":"3"}')}).always(function(){nt.hide()}),I.send()}))}function s(t,e){switch(+t.code){case-10033:e&&e.close(),a(t);break;case-10034:e&&e.close(),t.data.accounts.length>1&&c(t);break;case 71300:e?($(".J-secure-text").text(t.msg||"未知错误，请刷新页面重试"),pt.freshCaptcha(!0)):(C.showError(ht,t.msg),O.emit("login-reg-win","login-fail"),T(K.loginFail)&&K.loginFail());break;default:e&&e.close(),C.showError(ht,t.msg),O.emit("login-reg-win","login-fail"),K.loginFail&&K.loginFail()}}function a(t){var e="";1===ot&&(e="&isChangeWeixinBind="+ot),window.localStorage.setItem("_change_weixin_bind_data",JSON.stringify(window.weixinData));var n=window.location.href,i=n.replace(/mlogin_username=[^&]*/gi,"").replace(/mlogin_processId=[^&]*/gi,""),o=encodeURIComponent(""+i+(n.indexOf("?")!=-1?"&":"?")+"mlogin_username="+at.find(".J-mlogin-ipt-username")[0].value+"&mlogin_processId="+t.data.processId+"&mlogin_exchange=1"+e);U.set("newlogin_thirdData",(K||{}).thirdData||{}),window.location.href="https://defend.vip.com/index/app/?challengeId="+t.data.challengeId+"&sign="+t.data.challengeSign+"&callback="+o,P.send("mlogin_defend_touchoff")}function c(t){var e=t.data.accounts.length;B.conf({content:'<div class="J-mlogin-userlist mlogin-login"></div>',width:"80%",btns:['<i class="icon-dialog-close"></i>'],clsName:"m-user-choose"}).open(),$(".J-mlogin-userlist").html(N({data:t.data.accounts,displayName:$(".J-mlogin-ipt-username").val(),chooseTips:"mloginUser"})),2===e&&$(".user-choose-list").addClass("z-user-item-two"),$(document).ready(function(){var t=$(".user-choose-inner");t.find("[data-src]").one("error",function(t){$(this).attr("src","https://mlogin.vip.com/asserts/img/icons/user-pic.png")}).each(function(t,e){e.src=$(e).data("src")})}),$(".J-user-choose").on("click",function(){var e="";t.data&&t.data.processId&&(e=t.data.processId);var n=$(this),i={processId:n.attr("data-id")||e,accountId:n.find(".user-item-name").attr("data-id"),username:C.encryptMobile(at.find(".J-mlogin-ipt-username")[0].value)};l(i)})}function l(t){B.close(),t.third_data=K.thirdData||{},t.source=it,k.selectAccount(t).then(function(t){$("#mg-dialog").removeClass("m-user-choose"),K.loginSuccess&&K.loginSuccess(),z.open(t.msg||"登录成功",2e3),P.send("H5_setpwd_new_click",'{"status":"1","way":"userNameLogin","enter":"1"}')},function(t){return t.code===-10033?(a(t),!1):void C.showError(ht,t.msg)})}function u(){k.weixinRegisterLogin(window.weixinData).then(function(){window.localStorage.removeItem("wxLoginPop");var t=window.location.href.indexOf("?")!=-1?"&":"?";window.location.href=location.href+t+"time="+(new Date).getTime()},function(t){C.showError(ht,t.msg)})}function h(t){window.mlogin_isfromLogin=!0,$("#J-register-win .J-mlogin-back").removeClass("icon-register-close"),t.preventDefault(),A.close(),$(".J-error-msg").removeClass("m-login-error"),O.emit("login-reg-win","toggle-to-register"),at.find("form")[0].reset(),C.hideError(ht)}function p(t){t.preventDefault(),$(".J-login-wrap,.J-mobile-fast-login-header,.J-password-step,.J-second-step,.J-error-msg").hide(),$(".J-mobile-fast-login,.J-models-login-footer,.J-models-login-logo,.J-mlogin-close").show(),$("#J-models-login-wrap").addClass("models-login-bg-write"),$(".J-error-msg").addClass("m-login-error")}function d(t){t.preventDefault(),tt.stopCountDown(),$(".J-error-msg").addClass("m-login-error"),$("#J-models-login-wrap").addClass("models-login-bg-write"),$(".J-mlogin-ipt").val(""),$("button").addClass("disabled"),setTimeout(function(){$(".J-mlogin-get-login-authcode").html("获取验证码"),$(".J-mlogin-get-login-authcode").addClass("disabled")},500),"0"===Q?($(".J-mobile-fast-login-header,.J-mobile-fast-login,.J-password-step,.J-second-step").hide(),$(".J-models-login-logo,.J-login-wrap,.J-models-login-footer,.J-mlogin-close").show()):($(".J-mobile-fast-login-header,.J-login-wrap,.J-password-step,.J-second-step").hide(),$(".J-models-login-logo,.J-mobile-fast-login,.J-models-login-footer,.J-mlogin-close").show()),$(".J-mlogin-captcha-item").length>0&&$(".J-mlogin-captcha-item").remove(),C.hideError(ht)}function f(){$("#J-models-login-wrap").addClass("models-login-bg-write"),$("#J-models-login-wrap").removeClass("models-login-bg-write"),$(".J-error-msg").addClass("m-login-error"),$(".J-mobile-fast-login-header,.J-mobile-fast-login").hide(),$(".J-models-login-logo,.J-login-wrap,.J-models-login-footer,.J-mlogin-close").show(),$(".J-mlogin-captcha-item").length>0&&$(".J-mlogin-captcha-item").remove(),C.hideError(ht),$(".J-mobile-fast-login-header").show(),$(".J-models-login-footer,.J-models-login-logo").hide()}function m(t){t.preventDefault(),$("#J-models-login-wrap").removeClass("models-login-bg-write"),$(".J-error-msg").removeClass("m-login-error"),$(".J-login-wrap,.J-models-login-logo,.J-mlogin-close").show(),$(".J-mobile-fast-login-header,.J-mobile-fast-login,.J-models-login-footer").hide(),C.hideError(ht)}function g(t){if(t.preventDefault(),!$(".J-rectangle-agree").hasClass("mlogin-icon-rectangle-selected"))return C.showError(ht,"您必须同意唯品会服务条款后，才能进行下一步"),!1;if($(t.currentTarget).hasClass("disabled"))return!1;var e=i();if("string"==typeof e)return C.showError(ht,e),!1;if(e.third_data=K.thirdData||{},rt){if(st.captchaTypePwd?(e.captchaType=st.captchaTypePwd,e.captchaId=st.captchaId,e.ticket=st.ticket):(e.uuid=tt.getOption("uuid"),e.processId=tt.getOption("processId"),e.authScene=tt.getOption("authScene")),window.VipSecureCode){var n=VipSecureCode.getFpData();e.info=n?JSON.stringify(n):Y}else e.info=Y;e.domain_id=V,e.smsTicket=tt.getOption("smsTicket")||""}nt=j().show(),C.hideError(ht);var o=rt?k.checkV2:E.checkSmscode;o(e).then(function(t){var e=t.msg||"登录成功";rt&&(e="登录成功"),O.emit("login-reg-win","register-success"),K.loginSuccess&&K.loginSuccess(),z.open(e,2e3),P.send("H5_active_new_login",'{"type":"sms","status":"1","way":"login","enter":"1"}')},function(t){var e=void 0;t.code&&2===t.code||70309===t.code?($(".J-mobile-fast-login").hide(),!t.data.op||1!==t.data.op&&"2"!==t.data.op?($(".J-second-step").show(),$(".J-mobile-fast-login-header").show(),$(".J-models-login-logo, .J-models-login-footer").hide(),$("#J-models-login-wrap").removeClass("models-login-bg-write"),$(".J-mobile-fast-login-header h2").html("设置密码"),$(".J-error-msg").removeClass("m-login-error"),P.send("H5_active_new_login",'{"type":"sms","status":"1","way":"reg","enter":"1"}')):($(".J-password-step").show(),$(".J-mobile-fast-login-header").show(),$(".J-models-login-logo, .J-models-login-footer").hide(),$("#J-models-login-wrap").removeClass("models-login-bg-write"),$(".J-mobile-fast-login-header h2").html("设置密码"),$(".J-error-msg").removeClass("m-login-error"),P.send("H5_active_new_login",'{"type":"sms","status":"1","way":"login","enter":"1"}'))):t.code&&200===t.code?(e=t.msg,
B.conf({content:'<p class="dialog-content-tips">'+e+"</p>",width:"90%",btns:["取消","账号登录"],onBtnClick:function(t,e){this.close(),$(".J-mlogin-get-login-authcode").removeClass("disabled"),1===e&&("1"===Q?m(t):f())}}).open(),P.send("H5_active_new_phonenum_login_failed_alert",'{"reason":"'+e+'","enter":"2"}')):t.code&&210===t.code?(e=t.msg,B.conf({content:'<p class="dialog-content-tips">'+e+"</p>",width:"90%",btns:["取消","账号登录"],onBtnClick:function(t,e){this.close(),$(".J-mlogin-get-login-authcode").removeClass("disabled"),1===e&&("1"===Q?m(t):f())}}).open(),P.send("H5_active_new_phonenum_login_failed_alert",'{"reason":"'+e+'","enter":"2"}')):(C.showError(ht,t.msg),P.send("H5_active_new_login",'{"type":"sms","status":"0","status_des":"'+t.msg+'","enter":"1","code":"'+t.code+'"}'),O.emit("login-reg-win","login-fail"),K.loginFail&&K.loginFail())}).always(function(){nt.hide()}),I.send()}function v(t){t.preventDefault(),"password"===$(t.currentTarget).siblings(".J-mlogin-ipt").attr("type")?($(t.currentTarget).siblings(".J-mlogin-ipt")[0].setAttribute("type","text"),$(t.currentTarget).addClass("mlogin-ipt-show")):($(t.currentTarget).siblings(".J-mlogin-ipt")[0].setAttribute("type","password"),$(t.currentTarget).removeClass("mlogin-ipt-show"))}function y(t){if(t.preventDefault(),$(t.currentTarget).hasClass("disabled"))return!1;var e=L.onlyPasswordValidate(at.find(".J-mlogin-ipt-password-second")[0],function(t){t.mobile=tt.getOption("mobile")||C.encryptMobile($(".J-mlogin-ipt-mobile").val()),t.domain_id=V,t.serialno=tt.getOption("serialno")});if("string"==typeof e)return C.showError(ht,e),!1;e.third_data=K.thirdData||{},nt=j().show(),C.hideError(ht),rt&&(e.processId=tt.getOption("processId"),e.authScene=1);var n=rt?k.mobileLogin:E.newRegister;n(e).then(function(t){var e=t.msg||"注册成功";rt&&(e="注册成功"),O.emit("login-reg-win","register-success"),K.loginSuccess&&K.loginSuccess(),z.open(e,2e3),P.send("H5_setpwd_new_click",'{"status":"1","way":"reg","enter":"2"}')},function(t){C.showError(ht,t.msg),P.send("H5_setpwd_new_click",'{"status":"0","status_des":"'+t.msg+'","way":"reg","enter":"2","code":"'+t.code+'"}'),O.emit("login-reg-win","register-success"),K.loginFail&&K.loginFail()}).always(function(){nt.hide()}),I.send()}function w(t){t.preventDefault();var e=L.fullPasswordValidate(lt[0],ct[0],ut[0],function(t){t.domain_id=V,t.serialno=tt.getOption("serialno")});if("string"==typeof e)return C.showError(ht,e),!1;e.third_data=K.thirdData||{},nt=j().show(),C.hideError(ht),rt&&(e.processId=tt.getOption("processId"),e.authScene=2);var n=rt?k.mobileLogin:E.newLogin;n(e).then(function(t){var e=t.msg||"登录成功";rt&&(e="登录成功"),tt.setOption("serialno",t.serialno),O.emit("login-reg-win","login-success"),K.loginSuccess&&K.loginSuccess(),z.open(e,2e3),P.send("H5_setpwd_new_click",'{"status":"1","way":"login","enter":"1"}')},function(t){C.showError(ht,t.msg),P.send("H5_setpwd_new_click",'{"status":"0","status_des":"'+t.msg+'","way":"login","enter":"1","code":"'+t.code+'"}'),O.emit("login-reg-win","login-fail"),K.loginFail&&K.loginFail(),nt.hide()})}function b(){window.localStorage&&localStorage.setItem("saveLoginName",W.encode($(".J-mlogin-ipt-username").val()))}function x(){window.localStorage&&localStorage.setItem("saveIphoneName",W.encode($(".J-mlogin-ipt-mobile").val()))}function S(t){t.preventDefault();var e=$(t.currentTarget),n="mlogin-icon-rectangle-selected",i="mlogin-icon-rectangle-normal";e.hasClass(n)?(e.removeClass(n),e.addClass(i)):(e.removeClass(i),e.addClass(n))}function _(){at.on("click",".J-mlogin-clear",C.clearIptVal),at.on("click",".J-mlogin-show-password",v),at.on("click",".J-mlogin-submit",r),at.on("click",".J-mlogin-mobile-new,.J-mlogin-back-new",p),at.on("click",".J-mlogin-login-normal",m),at.find(".J-mlogin-ipt-username").on("blur",b),at.find(".J-mlogin-ipt-mobile").on("blur",x),at.on("click",".J-mlogin-get-login-authcode",function(t){tt.getSmsCaptcha(t,it,rt)}),at.on("click",".J-mlogin-password-btn",w),at.on("click",".J-register-btn",y),at.on("click",".J-mlogin-toggle",h),at.on("click",".J-login-models-submit",g),at.find(".J-mlogin-ipt").on("focus",C.focusClearBtn),at.find(".J-mlogin-ipt").on("blur",C.blurClearBtn),at.find(".J-mlogin-ipt").on("keyup input change",C.btnAbled),at.on("click",".J-mlogin-back",d),at.on("click",".J-mlogin-backi",d),at.find(".J-mlogin-ipt-mobile").on("keyup input change",C.btnAbled),at.on("click",".J-mlogin-login-weixin",u),at.on("click",".J-mlogin-close",function(t){t.preventDefault(),ft.close(),A.close(),C.hideError(ht),O.emit("login-reg-win","close-login-win",{})}),at.on("click",".J-rectangle-agree",S),$("body").on("focus",".J-mlogin-ipt-captcha",function(){$(".J-secure-text").text("")}),$("body").on("click",".J-refresh-img",function(){pt.freshCaptcha()})}var T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C=n(27),E=n(22),k=n(25),P=n(29),J=n(30),N=n(31),O=n(32),A=n(33)(),I=n(36),D=n(18),L=n(37),j=n(39),M=n(43),H=n(19),W=n(21),X=n(20),F=X.get("mars_cid")||"",Y=JSON.stringify({cid:F}),q=n(44),z=n(48)(),R=n(51),B=n(53)(),V=D.getId();B.setNoAnimate(!0),n(1);var U=n(57);window.storageAPI=U;var G=n(58),Z=null,K=null,Q="0",tt="",et=!1,nt="",it="",ot=0,rt=!1,st={},at=void 0,ct=void 0,lt=void 0,ut=void 0,ht=void 0,pt={checkNeed:function(t){if($(".J-mlogin-captcha-item").length)t&&t();else{$(".J-mlogin-submit").addClass("disabled");var e=Y;if(window.VipSecureCode){var n=VipSecureCode.getFpData();e=n?JSON.stringify(n):Y}var i=at.find(".J-mlogin-ipt-username")[0],o={loginName:C.encryptMobile(i.value),scene:"LOGIN_WAP",source:it,info:e};k.captchaPre(o).then(function(e){et=!1,nt.hide(),$(".J-mlogin-submit").removeClass("disabled"),e.sid&&(st.sid=e.sid),e.captchaType&&0!==Number(e.captchaType)?(st.captchaTypePwd=e.captchaType,st.captchaId=e.captchaId||"",window.VipSecureCode?M.vipCaptchaShow(e,st,it,t):(z.open("加载验证码组件失败"),P.send("H5_safe_mlogin_components_load_failed",JSON.stringify({source:it,capatchType:st.captchaTypePwd,way:"accountlogin"})))):t&&t()},function(t){et=!1,nt.hide(),C.showError(ht,t.msg)})}},freshCaptcha:function(t){if(!et){et=!0;var e={domain_id:V,username:C.encryptMobile(at.find(".J-mlogin-ipt-username")[0].value)};E.getNewCaptcha(e).then(function(e){if(et=!1,e.captchaType)switch(String(e.captchaType)){case"1":e.pic&&"string"==typeof e.pic?($(".J-mlogin-ipt-captcha").val("").data("captcha-type",1),$(".J-code-img").attr("src","data:image/png;base64,"+e.pic),!(t===!0)&&$(".J-secure-text").text(""),$(".J-secure-check-title").addClass("doc").removeClass("img")):$(".J-secure-text").text("未知错误，请刷新页面重试");break;case"6":var n=null;try{n=JSON.parse(e.pic||"")}catch(i){console.log("json parse error !"),n={}}n&&n.qp&&n.ap&&"string"==typeof n.qp&&"string"==typeof n.ap?($(".J-question-img").attr("src","data:image/png;base64,"+n.qp),$(".J-code-img").attr("src","data:image/png;base64,"+n.ap),$(".J-mlogin-ipt-captcha").val("").data("captcha-type",6),!(t===!0)&&$(".J-secure-text").text(""),$(".J-secure-check-title").addClass("img").removeClass("doc")):$(".J-secure-text").text("未知错误，请刷新页面重试");break;default:$(".J-secure-text").text("未知错误，请刷新页面重试")}else $(".J-secure-text").text("未知错误，请刷新页面重试")},function(){et=!1})}}},dt=function(){var t=C.query(),e=t.mlogin_exchange;if(e){P.send("mlogin_defend_touchoffsuccess");var n="1",i=t.mlogin_username,o=t.mlogin_processId,r=t.challengeToken,s=t.challengeId,a=U.get("newlogin_thirdData")||{};U.remove("newlogin_thirdData");var c=void 0;if(r){var l=window.localStorage.getItem("_change_weixin_bind_data");window.localStorage.removeItem("_change_weixin_bind_data");try{l=JSON.parse(l)}catch(u){l={}}window.weixinData=l;var h={source:it};k.exchangeToken($.extend(h,{isNew:n,username:i,processId:o,challengeToken:r,challengeId:s,third_data:a})).then(function(){H.isWeixin()&&"1"===String(t.isChangeWeixinBind)?(z.open("切换绑定成功",2e3),c=C.useHistory("exchangeLogin",{mlogin_exchange:""}),setTimeout(function(){window.location.href=c},500),P.send("mlogin_defend_success")):(c=C.useHistory("exchangeLogin",{mlogin_exchange:""}),setTimeout(function(){window.location.href=c},500),z.open("恭喜，身份校验成功。",5e3),P.send("mlogin_defend_success"))},function(t){c=C.useHistory("exchangeLogin",{mlogin_exchange:""}),setTimeout(function(){window.location.href=c},2e3),z.open(t.msg||"系统网络异常，请稍后重试！",5e3)})}else z.open("抱歉，身份校验失败，无法登录，请24小时后重试。",5e3),C.useHistory("exchangeLogin",{mlogin_exchange:""})}},ft={init:function(t){return t.data||window.console.warn(new Error("loginWin 组件，属性 data 是必选项")),t.data.isviva&&(Q="1"),it=t.data.optsSource,rt=t.data.mloginApiSwitch,t.data.isChangeWeixinBind&&(ot=1),t.id=t.id?t.id:"J-login-win",t.className=t.className?t.className+" login-reg-win models-wrapper":"login-reg-win models-wrapper",Z||(Z=new q({id:t.id,className:t.className})),Z.conf({content:J({data:t.data}),freeze:!0,scrollLock:!1}),K=t,at=$("#"+t.id),ht=at.find(".J-error-msg"),ct=at.find(".J-mlogin-ipt-mobile"),lt=at.find(".J-login-password"),ut=at.find(".J-mlogin-ipt-authcode"),tt=new R({$mobile:ct,$authCode:ut,$getAuthCode:$(".J-mlogin-get-login-authcode"),$errorBox:ht},{domain_id:V,isviva:Q,enter:1,toggleLogin:f,toggleToNormalLogin:m}),_(),this},open:function(){window.mlogin_isfromLogin=!1,$("#J-register-win .J-mlogin-back").addClass("icon-register-close"),Z.open();var t=!0,e=$(".J-login-wrap").find(".J-mlogin-ipt");return setTimeout(function(){e.each(function(){""===this.value&&(t=!1)}),t&&at.find(".J-mlogin-submit").removeClass("disabled")},500),$("body,html").css({"overflow-y":"hidden",height:"100%"}),G||(G=new G("#J-models-login-wrap",{preventDefault:!1,scrollbars:!0,mouseWheel:!0,click:!0,interactiveScrollbars:!0,fadeScrollbars:!0})),O.emit("login-reg-win","open-win",{type:"login"}),this},close:function(){return Z.close(),$("body,html").css({"overflow-y":"",height:""}),O.emit("login-reg-win","close-win",{type:"login"}),this}};e.loginWin=ft,e.exchangeLogin=dt},function(t,e,n){"use strict";var i=n(28),o=n(21),r={};r.encrypt=function(t,e){var n="",r=Date.parse(new Date)/1e3;return n=o.encode(t)+":"+o.encode(r.toString())+":"+o.encode(i(e))},r.encryptPassword=function(t){var e="";return e=o.encode(i(t))},r.encryptMobile=function(t){var e="";return e=o.encode(t)},r.showError=function(t,e){e=e||"未知错误，请刷新页面重试",t.show().find("span").html(e)},r.hideError=function(t){t.hide().find("span").html("")},r.toggleClearBtn=function(t){""===$(t.currentTarget).val()?$(t.currentTarget).siblings(".J-mlogin-clear").hide():$(t.currentTarget).siblings(".J-mlogin-clear").show()},r.blurClearBtn=function(t){var e=$(t.currentTarget);setTimeout(function(){e.siblings(".J-mlogin-clear").hide()},1e3)},r.focusClearBtn=function(t){""===$(t.currentTarget).val()?$(t.currentTarget).siblings(".J-mlogin-clear").hide():$(t.currentTarget).siblings(".J-mlogin-clear").show()},r.btnAbled=function(t){var e=$(t.currentTarget).parent().parent();$(t.currentTarget).hasClass("f-password-width-fix-target")&&(e=e.parent());var n=e.find(".J-mlogin-ipt").eq(0),i=e.find(".J-mlogin-ipt").eq(1),o=e.find(".ui-button"),r=e.find("button");$(".J-error-msg").hide().find("span").html(""),n.val()?(r[0]&&(r.html().length<6?r.removeClass("disabled"):r.addClass("disabled")),i[0]?i.val()?o.removeClass("disabled"):o.addClass("disabled"):o.removeClass("disabled")):(o.addClass("disabled"),r[0]&&r.addClass("disabled")),""===$(t.currentTarget).val()?$(t.currentTarget).siblings(".J-mlogin-clear").hide():$(t.currentTarget).siblings(".J-mlogin-clear").show()},r.clearIptVal=function(t){t.preventDefault(),$(t.currentTarget).siblings(".J-mlogin-ipt").val(""),$(t.currentTarget).hide(),$("button").addClass("disabled"),r.btnAbled(t)},r.focusInput=function(t){t.preventDefault(),$(t.target).hasClass("J-mlogin-show-password")||$(t.currentTarget).find("input").focus()},r.closeWin=function(t){t.close()},r.query=function(t){var e=location.search.substr(1),n=e.split("&"),i={};return n.map(function(t){var e=t.split("=");if(2===e.length)i[e[0]]=e[1];else if(e.length>2){var n=e[0],o=e.slice(1,e.length).join("=");i[n]=o}}),t?i[t]:i},r.useHistory=function(t,e){var n=location.search,i=n.substr(1),o=i.split("&"),r={};o.map(function(t){var e=t.split("=");if(2===e.length)r[e[0]]=e[1];else if(e.length>2){var n=e[0],i=e.slice(1,e.length).join("=");r[n]=i}});for(var s in e)r.hasOwnProperty(s)&&(e[s]?r[s]=e[s]:delete r[s]);n="?";for(var a in r)n+=a+"="+r[a]+"&";return window.history&&history.pushState?(history.pushState(t,null,n),location.href):""+location.origin+location.pathname+n},t.exports=r},function(t,e,n){var i;(function(o){"use strict";function r(t,e){var n=(65535&t)+(65535&e),i=(t>>16)+(e>>16)+(n>>16);return i<<16|65535&n}function s(t,e){return t<<e|t>>>32-e}function a(t,e,n,i,o,a){return r(s(r(r(e,t),r(i,a)),o),n)}function c(t,e,n,i,o,r,s){return a(e&n|~e&i,t,e,o,r,s)}function l(t,e,n,i,o,r,s){return a(e&i|n&~i,t,e,o,r,s)}function u(t,e,n,i,o,r,s){return a(e^n^i,t,e,o,r,s)}function h(t,e,n,i,o,r,s){return a(n^(e|~i),t,e,o,r,s)}function p(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;var n,i,o,s,a,p=1732584193,d=-271733879,f=-1732584194,m=271733878;for(n=0;n<t.length;n+=16)i=p,o=d,s=f,a=m,p=c(p,d,f,m,t[n],7,-680876936),m=c(m,p,d,f,t[n+1],12,-389564586),f=c(f,m,p,d,t[n+2],17,606105819),d=c(d,f,m,p,t[n+3],22,-1044525330),p=c(p,d,f,m,t[n+4],7,-176418897),m=c(m,p,d,f,t[n+5],12,1200080426),f=c(f,m,p,d,t[n+6],17,-1473231341),d=c(d,f,m,p,t[n+7],22,-45705983),p=c(p,d,f,m,t[n+8],7,1770035416),m=c(m,p,d,f,t[n+9],12,-1958414417),f=c(f,m,p,d,t[n+10],17,-42063),d=c(d,f,m,p,t[n+11],22,-1990404162),p=c(p,d,f,m,t[n+12],7,1804603682),m=c(m,p,d,f,t[n+13],12,-40341101),f=c(f,m,p,d,t[n+14],17,-1502002290),d=c(d,f,m,p,t[n+15],22,1236535329),p=l(p,d,f,m,t[n+1],5,-165796510),m=l(m,p,d,f,t[n+6],9,-1069501632),f=l(f,m,p,d,t[n+11],14,643717713),d=l(d,f,m,p,t[n],20,-373897302),p=l(p,d,f,m,t[n+5],5,-701558691),m=l(m,p,d,f,t[n+10],9,38016083),f=l(f,m,p,d,t[n+15],14,-660478335),d=l(d,f,m,p,t[n+4],20,-405537848),p=l(p,d,f,m,t[n+9],5,568446438),m=l(m,p,d,f,t[n+14],9,-1019803690),f=l(f,m,p,d,t[n+3],14,-187363961),d=l(d,f,m,p,t[n+8],20,1163531501),p=l(p,d,f,m,t[n+13],5,-1444681467),m=l(m,p,d,f,t[n+2],9,-51403784),f=l(f,m,p,d,t[n+7],14,1735328473),d=l(d,f,m,p,t[n+12],20,-1926607734),p=u(p,d,f,m,t[n+5],4,-378558),m=u(m,p,d,f,t[n+8],11,-2022574463),f=u(f,m,p,d,t[n+11],16,1839030562),d=u(d,f,m,p,t[n+14],23,-35309556),p=u(p,d,f,m,t[n+1],4,-1530992060),m=u(m,p,d,f,t[n+4],11,1272893353),f=u(f,m,p,d,t[n+7],16,-155497632),d=u(d,f,m,p,t[n+10],23,-1094730640),p=u(p,d,f,m,t[n+13],4,681279174),m=u(m,p,d,f,t[n],11,-358537222),f=u(f,m,p,d,t[n+3],16,-722521979),d=u(d,f,m,p,t[n+6],23,76029189),p=u(p,d,f,m,t[n+9],4,-640364487),m=u(m,p,d,f,t[n+12],11,-421815835),f=u(f,m,p,d,t[n+15],16,530742520),d=u(d,f,m,p,t[n+2],23,-995338651),p=h(p,d,f,m,t[n],6,-198630844),m=h(m,p,d,f,t[n+7],10,1126891415),f=h(f,m,p,d,t[n+14],15,-1416354905),d=h(d,f,m,p,t[n+5],21,-57434055),p=h(p,d,f,m,t[n+12],6,1700485571),m=h(m,p,d,f,t[n+3],10,-1894986606),f=h(f,m,p,d,t[n+10],15,-1051523),d=h(d,f,m,p,t[n+1],21,-2054922799),p=h(p,d,f,m,t[n+8],6,1873313359),m=h(m,p,d,f,t[n+15],10,-30611744),f=h(f,m,p,d,t[n+6],15,-1560198380),d=h(d,f,m,p,t[n+13],21,1309151649),p=h(p,d,f,m,t[n+4],6,-145523070),m=h(m,p,d,f,t[n+11],10,-1120210379),f=h(f,m,p,d,t[n+2],15,718787259),d=h(d,f,m,p,t[n+9],21,-343485551),p=r(p,i),d=r(d,o),f=r(f,s),m=r(m,a);return[p,d,f,m]}function d(t){var e,n="",i=32*t.length;for(e=0;e<i;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function f(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;var i=8*t.length;for(e=0;e<i;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function m(t){return d(p(f(t),8*t.length))}function g(t,e){var n,i,o=f(t),r=[],s=[];for(r[15]=s[15]=void 0,o.length>16&&(o=p(o,8*t.length)),n=0;n<16;n+=1)r[n]=909522486^o[n],s[n]=1549556828^o[n];return i=p(r.concat(f(e)),512+8*e.length),d(p(s.concat(i),640))}function v(t){var e,n,i="0123456789abcdef",o="";for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),o+=i.charAt(e>>>4&15)+i.charAt(15&e);return o}function y(t){return unescape(encodeURIComponent(t))}function w(t){return m(y(t))}function b(t){return v(w(t))}function x(t,e){return g(y(t),y(e))}function S(t,e){return v(x(t,e))}function _(t,e,n){return e?n?x(e,t):S(e,t):n?w(t):b(t)}i=function(){return _}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))})(this)},function(t,e){"use strict";e.send=function(t,e){window.Mar&&Mar.Seed.request("button","click",t,e)}},function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj){var errorStyle="m-login-error",isvivaMars=data.isviva?1:0,showPasswordLoginFirst=!0,displayNone='style="display: none"';__p+='\n\n<div class="models-login models-login-bg-write" id="J-models-login-wrap" marsSeadClick>\n    <div id="J-captcha-sdk"></div>\n    <div class="models-header J-mobile-fast-login-header" style="display:none">\n        <h2>密码登录</h2>\n        <a href="javascript:;" class="iconfont iconfont-close2 close J-mlogin-close"></a>\n        <a href="javascript:;" class="m-login-back-btn J-mlogin-back-new"></a>\n    </div>\n    <div class="models-logo J-models-login-logo">\n        <div class="icon-login-logo"></div>\n        <a data-dismiss="closemodels" class="iconfont iconfont-close2 close J-mlogin-close" href="javascript:;"><span class="mlogin-close-in"></span></a>\n    </div>\n    <div class="models-body">\n        ',data.text&&(__p+='\n        <p class="news-msg J-news-msg">\n            <span>\n                '+(null==(__t=data.text)?"":__t)+"\n            </span>\n        </p>\n        "),__p+='\n        <form class="ui-form">\n            <div class="J-login-wrap" '+(null==(__t=showPasswordLoginFirst?"":displayNone)?"":__t)+'>\n                <div class="ui-form-item ui-form-item-bd">\n                    <label for="username">登录名</label>\n                    <input type="text" name="username" placeholder="请输入手机号或邮箱" class="J-mlogin-ipt J-mlogin-ipt-username c-mlogin-ipt-username" marsSeadInput>\n                    <a href="#" class="m-mlogin-clear J-mlogin-clear" style="display:none">\n                        <span class="clear_wrap">\n                            <span class="clear"></span>\n                        </span>\n                    </a>\n                </div>\n                <div class="ui-form-item">\n                    <label for="password">密码</label>\n                    <input type="password" name="password" onpaste="return false;" placeholder="请输入密码" class="J-mlogin-ipt J-mlogin-ipt-password" marsSeadInput>\n                    <a href="#" class="icon-show-password J-mlogin-show-password"></a>\n                    <a href="#" class="show-password-position m-mlogin-clear J-mlogin-clear" style="display:none">\n                        <span class="clear_wrap">\n                            <span class="clear"></span>\n                        </span>\n                    </a>\n                </div>\n\n                <div class="submit-box J-mlogin-submit-box">\n                    <a href="javascript:void(0);" class="J-mlogin-submit ui-button ui-button-primary submitFast disabled">登&nbsp;录</a>\n                </div>\n\n                ',__p+=data.isviva?'\n                <div>\n                    <a href="//m.vip.com/retrieve-password.html" class="frogot-pwd" mars_sead="H5_forgetpwd" data_mars=\'{"isviva":"'+(null==(__t=isvivaMars)?"":__t)+'","enter":"4"}\'>忘记密码</a>\n                </div>\n                ':'\n                <div>\n                    <a href="//m.vip.com/retrieve-password.html" class="frogot-pwd" mars_sead="H5_forpwd_new_click" data_mars=\'{"enter":"3"}\'>忘记密码</a>\n                </div>\n                ',__p+='\n\n                <div class="models-footer">\n                    <fieldset class="J-login-models-m">\n                        <legend>或</legend>\n                        <a mars_sead="H5_smspwdlogin_new_click" data_mars=\'{"enter":"3"}\' href="javascript:;" class="login-pop-mobile J-mlogin-mobile-new">手机号注册登录</a>\n                    </fieldset>\n                </div>\n\n            </div>\n            <div class="J-mobile-fast-login" '+(null==(__t=showPasswordLoginFirst?displayNone:"")?"":__t)+'>\n                <div class="ui-form-item">\n                    <label for="mobile">手机号</label>\n                    <input name="mobile" type="tel" placeholder="请输入手机号" maxlength="11" class="J-mlogin-ipt J-mlogin-ipt-mobile" marsSeadInput>\n                    <a href="#" class="m-mlogin-clear J-mlogin-clear" style="display:none">\n                        <span class="clear_wrap">\n                            <span class="clear"></span>\n                        </span>\n                    </a>\n                </div>\n                <div class="ui-form-item ui-form-item-r">\n                    <label for="authcode">验证码</label>\n                    <input class="J-mlogin-ipt J-mlogin-ipt-authcode" name="authcode" type="tel" placeholder="请输入验证码" maxlength="6" marsSeadInput>\n                    <a href="#" class="m-mlogin-clear show-btn-position J-mlogin-clear" style="display:none">\n                        <span class="clear_wrap">\n                            <span class="clear"></span>\n                        </span>\n                    </a>\n                    <button class="J-mlogin-get-login-authcode disabled" type="button">获取验证码</button>\n                </div>\n                <div class="submit-box">\n\n                    ',__p+=data.isviva?'\n                        <a href="javascript:;" class="J-login-models-submit ui-button ui-button-primary submit disabled">手机号快捷登录</a>\n                    ':'\n                        <a href="javascript:;" class="J-login-models-submit ui-button ui-button-primary submit disabled">手机号注册登录</a>\n                    ',__p+='\n\n                    <p class="mlogin-footer-tips" id="J-footer-tips">\n\t                    ',__p+=data.registerTips?"\n\t                        "+(null==(__t=data.registerTips)?"":__t)+"\n\t                    ":'\n\t                        <i class="mlogin-rectangle mlogin-icon-rectangle-selected J-rectangle-agree"></i>同意<a href="//viva.vip.com/act/m/service_provision_20161116?wapid=vivac_503">《唯品会服务条款》</a>、<a href="//viva.vip.com/act/m/user_protection_policy_20160809?wapid=vivac_385">《隐私条款》</a>、\n                            <a href="//move.vpal.com/member/terms.html">《唯品支付用户服务协议》</a>、\n                            <a href="//grcredit.vip.com/h5/protocol">《唯品信用服务协议》</a>\n\t                    ',__p+='\n                    </p>\n\n                </div>\n            </div>\n            <div class="J-password-step" style="display:none">\n               <div class="ui-form-item-top">\n                    <label>为了确保账号安全，请设置登录密码。</label>\n                </div>\n                <div class="ui-form-item f-password-width-fix-wrapper">\n                    <label for="password">登录密码</label>\n                    <div class="f-password-width-fix">\n                        <input name="password" onpaste="return false;" type="text" placeholder="支持字母、数字、特殊字符" maxlength=20 class="J-mlogin-ipt J-login-password f-password-width-fix-target" marsSeadInput>\n                        <a href="#" class="m-mlogin-clear J-mlogin-clear" style="display:none">\n                            <span class="clear_wrap">\n                                <span class="clear"></span>\n                            </span>\n                        </a>\n                    </div>\n                </div>\n\n                <div class="submit-box">\n                    <a href="javascript:;" class="J-mlogin-password-btn ui-button ui-button-primary submitFast disabled">登录</a>\n                </div>\n            </div>\n            <div class="J-second-step" style="display:none">\n                <div class="ui-form-item-top">\n                    <label>为了确保账号安全，请设置登录密码。</label>\n                </div>\n                <div class="ui-form-item  f-password-width-fix-wrapper">\n                    <label for="password">登录密码</label>\n                    <div class="f-password-width-fix">\n                        <input name="password" onpaste="return false;" type="text" placeholder="支持字母、数字、特殊字符" maxlength=20 class="J-mlogin-ipt J-mlogin-ipt-password-second f-password-width-fix-target" marsSeadInput>\n                        <a href="#" class="m-mlogin-clear J-mlogin-clear" style="display:none">\n                            <span class="clear_wrap">\n                                <span class="clear"></span>\n                            </span>\n                        </a>\n                    </div>\n                </div>\n                <div class="submit-box">\n                    <a href="javascript:;" class="J-register-btn ui-button ui-button-primary submitFast disabled">注册</a>\n                </div>\n            </div>\n            <div class="mlogin-error-msg '+(null==(__t=errorStyle)?"":__t)+' hide J-error-msg">\n                <i class="mlogin-err-tips">\n                    <span class="mlogin-err-tips-in"></span>\n                </i>\n                <span></span>\n            </div>\n        </form>\n    </div>\n    <div class="models-footer J-models-login-footer" '+(null==(__t=showPasswordLoginFirst?displayNone:"")?"":__t)+'>\n        <a href="javascript:;" class="frogot-pwd"></a>\n        <fieldset class="J-login-models-m">\n            <legend>或</legend>\n            ',__p+=data.isviva?'\n                <a mars_sead="H5_pwdlogin" data_mars=\'{"isviva":"'+(null==(__t=isvivaMars)?"":__t)+'","enter":"1"}\' href="javascript:;" class="login-pop-mobile J-mlogin-login-normal">密码登录</a>\n            ':'\n                <a mars_sead="H5_pwdlogin_new_click" data_mars=\'{"enter":"1"}\' href="javascript:;" class="login-pop-mobile J-mlogin-login-normal">密码登录</a>\n            ',__p+='\n\n            <div class="without-account">\n                <span class="without-account-tips J-mlogin-login-weixin">微信账号登录</span>\n            </div>\n        </fieldset>\n</div>\n'}return __p}},function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj){__p+='<!-- 选择账号登录弹窗 -->\n<p class="user-choose-title">温馨提示</p>\n<p class="user-choose-tips">\n    ';var chooseTips;__p+="\n    ",__p+="mloginUser"===chooseTips?"\n    <span>"+(null==(__t=displayName)?"":__t)+"和密码匹配了"+(null==(__t=data.length)?"":__t)+"个账号，请选择您需要登录的账号。</span>\n    ":"\n        <span>"+(null==(__t=displayName)?"":__t)+"手机号对应有"+(null==(__t=data.length)?"":__t)+"个账号，请选择你的账号找回密码，安全模式你可以放心操作。</span>\n    ",__p+='\n</p>\n<div class="user-choose-list">\n    ',data.length>1&&(__p+='\n    <ul class="user-choose-inner">\n        ',data.forEach(function(t){__p+='\n            <li class="u-user-item J-user-choose" data-id="'+(null==(__t=t.processId)?"":__t)+'">\n                <img src="../img/icons/user-pic.png" data-src="'+(null==(__t=t.avatar.replace(/^http:\/\//,"//"))?"":__t)+'" class="user-item-img lazyload">\n                <p class="user-item-name" data-id="'+(null==(__t=t.accountId)?"":__t)+'">'+(null==(__t=t.displayName)?"":__t)+"</p>\n            </li>\n        "}),__p+="\n    </ul>\n    "),__p+="\n</div>"}return __p}},function(t,e,n){"use strict";n(1);var i={eventDom:$(document.body),emit:function(t,e,n){var i=this;setTimeout(function(){i.eventDom.trigger(t+":"+e,n)},0)},on:function(t,e,n){var i=this;n&&$.isFunction(n)&&i.eventDom.on(t+":"+e,function(t,e){n(e)})}};t.exports=i},function(t,e,n){"use strict";function i(){if(!(this instanceof i))return new i;var t=$("#mg-mask");return t.length?s:(t=$('<div id="mg-mask" class="mg-mask none" marsSeadClick></div>').appendTo($("body")),this.$box=t,s=this,this._freeze=!1,this._scrollLock=!1,t.on("tap",o),t.on("touchmove",r),this)}function o(t){s&&(s._freeze?t.preventDefault():$.each(a,function(t,e){e.isOpen&&e.$box.trigger("close")}))}function r(t){s&&s._scrollLock&&(t.stopPropagation(),t.preventDefault())}n(34);var s,a=[],c=i.prototype,l=!1;$.extend(c,{open:function(){return this.isOpen?this:(l?this.$box.show():this.$box.fadeIn().removeClass("none"),this.isOpen=!0,this)},close:function(){return this.isOpen?(l?this.$box.hide():this.$box.fadeOut(),this.isOpen=!1,this.reset(),this):this},freeze:function(t){return this._freeze=t,this},scrollLock:function(t){return this._scrollLock=t,this},reset:function(){return this._freeze=!1,this._scrollLock=!1,this},associate:function(t){a.push(t)},conf:function(t){l=t.noAnimate}}),t.exports=i},function(t,e){},,function(t,e){"use strict";function n(t){var e=t.clientX;return e}function i(t){var e=t.clientY;return e}$("body").delegate("[marsSeadClick]","click",function(t){o.clickProcess(t)}).delegate("[marsSeadInput]","keyup",function(){o.inputProcess(this)});var o={maxHeapHeight:10,clickHeap:[],inputHeap:[],clickProcess:function(t){this.clickHeap.length>=this.maxHeapHeight&&this.clickHeap.pop();var e=new a(n(t),i(t)),o=new s(e);this.clickHeap.unshift(o)},inputProcess:function(t){this.inputHeap.length>=this.maxHeapHeight&&this.inputHeap.pop();var e=new r($(t).attr("name"));this.inputHeap.unshift(e)},send:function(){this.clickHeap.length>0&&window.Mar&&Mar.Seed.request("button","click","active_login_ck_collect",JSON.stringify({platform:"wap",data:this.clickHeap})),this.inputHeap.length>0&&window.Mar&&Mar.Seed.request("input","blur","active_login_keystroke_collect",JSON.stringify({platform:"wap",data:this.inputHeap}))}},r=function(t){this.t=""+(new Date).getTime(),this.x=t},s=function(t){this.t=""+(new Date).getTime(),this.position=[{c1:""+t}]},a=function(t,e){this.x=t,this.y=e};a.prototype.toString=function(){return this.x+":"+this.y},t.exports=o},function(t,e,n){"use strict";"user strict";function i(t,e){var n=new v;n.init([{dom:t,rules:[g.password.isNotEmpty,g.password.length,g.password.onlyAllowedChars,g.password.newFormat]}]);var i=n.start();if(i)return i;var o={pwd:p.encryptPassword(t.value)};return e&&e(o),o}function o(t,e,n,i){var o=new v;o.init([{dom:t,rules:[g.password.isNotEmpty,g.password.length,g.password.onlyAllowedChars,g.password.newFormat]},{dom:e,rules:[g.mobile.isNotEmpty,g.mobile.format]},{dom:n,rules:[g.authcode.isNotEmpty]}]);var r=o.start();if(r)return r;var s={pwd:p.encryptPassword(t.value),mobile:p.encryptMobile(e.value)};return i&&i(s),s}function r(t,e,n,i){var o=new v;o.init([{dom:t,rules:[g.mobile.isNotEmpty,g.mobile.format]},{dom:e,rules:[g.authcode.isNotEmpty]}]);var r=o.start();if(r)return r;var s=n?{mobile:p.encryptMobile(t.value),captchaCode:e.value}:{mobile:p.encryptMobile(t.value),smscode:e.value};return n||i&&i(s),s}function s(t,e,n){var i=new v;i.init([{dom:t,rules:[g.username.isNotEmpty]},{dom:e,rules:[g.password.isNotEmpty]}]),n&&i.add(n,[g.authcode.isNotEmpty]);var o=i.start();if(o)return o;var r={userData:p.encrypt(t.value,e.value)};return n&&(r.captcha=n.value),r}function a(t,e,n){var i=new v;i.init([{dom:t,rules:[g.authcode.isNotEmpty]},{dom:e,rules:[g.password.isNotEmpty,g.password.length,g.password.onlyAllowedChars,g.password.newFormat]}]);var o=i.start();if(o)return o;var r={captchaCode:t.value,password:p.encryptPassword(e.value)};return n&&n(r),r}function c(t,e){var n=new v;n.init([{dom:t,rules:[g.password.isNotEmpty,g.password.length,g.password.onlyAllowedChars,g.password.newFormat]}]);var i=n.start();if(i)return i;var o={password:p.encryptPassword(t.value)};return e&&e(o),o}function l(t,e){var n=new v,i=[];t.forEach(function(t,e){var n=$.extend(!0,{},g.questions.isNotEmpty);n.errorMsg="问题"+(e+1)+n.errorMsg,i.push({dom:t,rules:[n]})}),n.init(i);var o=n.start();if(o)return o;var r={answers:[]};return t.forEach(function(t){r.answers.push({answer:d(t.value)})}),e&&e(r),r}function u(t,e,n){var i=new v;i.init([{dom:t,rules:[g.password.isNotEmpty,g.password.length,g.password.onlyAllowedChars,g.password.newFormat]},{dom:e,rules:[g.password.isNotEmpty,g.password.length,g.password.onlyAllowedChars,g.password.newFormat]
}]);var o=i.start();if(o)return o;var r={old_password:p.encryptPassword(t.value),new_password:p.encryptPassword(e.value)};return n&&n(r),r}function h(t,e,n){var i=new v;i.init([{dom:t,rules:[g.authcode.isNotEmpty]},{dom:e,rules:[g.password.isNotEmpty,g.password.length,g.password.onlyAllowedChars,g.password.newFormat]}]);var o=i.start();if(o)return o;var r={code:t.value,new_password:p.encryptPassword(e.value)};return n&&n(r),r}var p=n(27),d=n(28),f="`-=[];',./~!@#$%^&*()_+{}|:\"<>?".split("").join("\\"),m="a-zA-Z",g={username:{isNotEmpty:{strategy:"isNotEmpty",errorMsg:"用户名不能为空"}},password:{isNotEmpty:{strategy:"isNotEmpty",errorMsg:"密码不能为空"},length:{strategy:"lengthRange",errorMsg:"6-20位的字符，含数字、字母、特殊字符",re:/^\S{6,20}$/},format:{strategy:"password",errorMsg:"6-20位的字符，含数字、字母、特殊字符",re:/^(?=.*[a-zA-Z])(?=.*\d)[a-zA-Z0-9]{6,20}$/},newFormat:{strategy:"password",errorMsg:"6-20位的字符，含数字、字母、特殊字符",re:new RegExp("(\\d["+m+f+"]|["+m+f+"]\\d)|"+("(["+m+"][\\d"+f+"]|[\\d"+f+"]["+m+"])|")+("(["+f+"][\\d"+m+"]|[\\d"+m+"]["+f+"])"))},onlyAllowedChars:{strategy:"onlyAllowedChars",errorMsg:"6-20位的字符，含数字、字母、特殊字符",re:new RegExp("[\\d"+m+f+"]","g")}},mobile:{isNotEmpty:{strategy:"isNotEmpty",errorMsg:"手机号码不能为空"},format:{strategy:"isMobile",errorMsg:"手机号码格式错误"}},authcode:{isNotEmpty:{strategy:"isNotEmpty",errorMsg:"验证码不能为空"}},questions:{isNotEmpty:{strategy:"isNotEmpty",errorMsg:"答案不能为空"}}},v=n(38);e.rules=g,e.onlyPasswordValidate=i,e.fullPasswordValidate=o,e.mobileFastValidate=r,e.accountNormalValidate=s,e.passwordPhoneValidate=a,e.passwordResetValidate=c,e.questionsCheckValidate=l,e.resetOldPasswordValidate=u,e.resetCodePasswordValidate=h},function(t,e,n){"use strict";function i(){this.cache=[]}var o=(n(1),{isNotEmpty:function(t,e){if(""===t)return e},minLength:function(t,e,n){if(t.length<e)return n},maxLength:function(t,e,n){if(t.length>e)return n},isMobile:function(t,e){if(e=e?e:"手机号码格式错误",!/^1[3-9]\d{9}$/.test(t))return e},isEmail:function(t,e){if(e=e?e:"邮箱地址格式错误",!/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(t))return e},isChinese:function(t,e){},isIdCard:function(t,e){if(e=e?e:"身份证格式错误",!/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(t))return e},isQq:function(t,e){if(e=e?e:"qq号码格式错误",!/^[1-9]\d{4,9}$/.test(t))return e},isPostcode:function(t,e){e=e?e:"邮政编码格式错误"},username:function(t,e,n){if(e=e?e:"用户名格式错误",n=n?n:/^.{6,}$/,!n.test(t))return e},password:function(t,e,n){if(e=e?e:"密码必须是由数字/大写字母/小写字母/标点符号组成，四种都必有，8位以上",n=n?n:/(?=^.{8,}$)(?=.*\d)(?=.*\W+)(?=.*[A-Z])(?=.*[a-z])(?!.*\n).*$/,!n.test(t))return e},lengthRange:function(t,e,n){if(e=e?e:"长度不符合规范",n=n?n:/^\S{6, 20}$/,!n.test(t))return e},onlyAllowedChars:function(t,e,n){if(e=e?e:"包含不允许的字符",n=n?n:/./g,t.replace(n,"").length>0)return e},authCode:function(t,e,n){if(e=e?e:"",n=n?n:/^\d{6}$/,!n.test(t))return e},captcha:function(t,e,n){if(e=e?e:"",n=n?n:/^[a-zA-Z]{4}$/,!n.test(t))return e}});i.prototype={constructor:i,init:function(t){return!!t&&void t.forEach(function(t){this.add(t.dom,t.rules)},this)},add:function(t,e){var n,i,r=this,s=e.length;for(n=0;n<s;n++)i=e[n],function(e){r.cache.push(function(){var n=e.strategy.split(":"),i=e.errorMsg,r=e.re?e.re:null,s=n.shift();return n.unshift(t.value),n.push(i),r&&n.push(r),o[s].apply(t,n)})}(i)},start:function(){var t,e,n,i=this.cache.length;for(t=0;t<i;t++)if(e=this.cache[t],n=e())return n}},t.exports=i},function(t,e,n){"use strict";n(40);var i=n(42)();n(1);var o=function(t){var e;return t=t||$("body"),{show:function(n){return e=$(i),t.append(e),this},hide:function(){return e.remove(),this}}};t.exports=o},function(t,e){},,function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="mlogin-loading-wrap">\n\t<div class="c-loading-bg J-loading">\n        <svg width="50" height="50" viewBox="0 0 50 50" class="c-loading c-loading-curve">\n            <circle r="24" cx="25" cy="25" fill="none" stroke="#f0f0f0" stroke-width="2" />\n            <circle r="24" cx="25" cy="25" fill="none" stroke="#e4007f" stroke-width="2"  class="c-loading-progress"/>\n            <text x="25" y="25" dy=".27em" fill="#dedede" class="c-loading-text">vip</text>\n        </svg>\n    </div>\n</div>';return __p}},function(t,e,n){"use strict";function i(t,e,n,i){function s(){var s,a={captchaId:t.captchaId,captchaType:t.captchaType,templateId:t.templateId,extend:t.extend||{},data:{cid:r.get("mars_cid")||""}},c={targetId:"J-captcha-sdk",params:a,onCancel:function(){e.cancel=!0,i&&i()},onClose:function(){e.close=!0,i&&!e.ticket&&i()},onPassed:function(t){e.ticket=t.data.ticket,i&&i()},onFailed:function(){o.send("H5_safe_mlogin_components_check_failed",JSON.stringify({source:n,capatchType:t.captchaType,way:"accountlogin"}))}};VipSecureCode.load({url:a.templateId,success:function(){s=VipSecureCode.createInstance(c),s.show(),o.send("H5_safe_mlogin_components_success",JSON.stringify({source:n,capatchType:t.captchaType,way:"accountlogin"}))},error:function(e){toast.open("加载验证码组件失败!"),i&&i(),o.send("H5_safe_mlogin_components_failed",JSON.stringify({source:n,capatchType:t.captchaType,way:"accountlogin"}))}})}var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.innerHTML=s()}var o=n(29),r=n(20);e.vipCaptchaShow=i},function(t,e,n){"use strict";function i(t){if(!(this instanceof i))return new i(t);var e,n,c=t&&t.id||"J-popup"+a++,l=this.$popup=$("#"+c),u={};return $.extend(u,t),l.length?e=this:(n=$(r({popupId:c})),u.zIndex&&n.css("z-index",u.zIndex),u.className&&n.addClass(u.className),l=this.$popup=n.appendTo($("body")),this.$box=l,this.isOpen=!1,s="fixed"===l.css("position"),o(l,this),e=this),e}function o(t,e){t.on("touchmove",".size-box",function(t){t.stopPropagation()}),t.on("close",e.close.bind(e))}n(45);var r=n(47),s=!0,a=(new Date).getTime(),c=i.prototype;$.extend(c,{setContent:function(t){return this.$popup.html(t),this},addClass:function(t){this.$popup.addClass(t)},setSize:function(t){return t&&this.$popup.css("width",t),this},conf:function(t){var e=this;return t.content&&this.setContent(t.content),window.requestAnimationFrame?requestAnimationFrame(function(){e.setSize(t.width)}):setTimeout(function(){e.setSize(t.width)},0),this},open:function(){return arguments.length&&this.conf.apply(this,arguments),this.$popup.fadeIn(),this.isOpen=!0,this},close:function(){return this.$popup.fadeOut(),this.isOpen=!1,this}}),t.exports=i},function(t,e){},,function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div id="'+(null==(__t=popupId)?"":__t)+'" class="mg-popup"></div>';return __p}},function(t,e,n){"use strict";function i(){return this instanceof i?(u=$("#mg-toast"),r(),u.length?c:(u=$('<div id="mg-toast" class="mg-toast"></div>').appendTo($("body")),this.$box=u,this.isOpen=!1,c=this,h="fixed"===u.css("position"),o(),this)):new i}function o(){u.on("tap",function(t){t.stopPropagation(),t.preventDefault(),c&&c.close(!1)})}function r(){s=document.documentElement.clientHeight,a=document.documentElement.clientWidth}n(49);var s=void 0,a=void 0,c=void 0,l=void 0,u=void 0,h=void 0,p=i.prototype;$.extend(p,{reset:function(){return this.setContent(""),this.isOpen=!1,clearTimeout(l),l=null,this},setContent:function(t){return u.html(t),this},calSize:function(){s<10&&r();var t=(a-u.width())/2+"px",e=h?-30:document.body.scrollTop-30,n=(s-u.height())/2+e+"px",i={left:t,top:n};return i},open:function(t,e,n){var i=this;if(!t)return this;if(this.setContent(t),this.isOpen)return u.css(this.calSize()),clearTimeout(l),l=setTimeout(this.close.bind(this),e||1e3),this;u.css("display","block");var o=this.calSize();return o.opacity=1,u.animate(o,200,function(){i.isOpen=!0,l=setTimeout(function(){i.close(i),n&&n()},e||1e3)}),this},close:function(t){var e=this,n={opacity:0};return t?u.animate(n,100,function(){u.css("display","none"),e.reset()}):(u.css($.extend(n,{display:"none"})),this.reset()),this}}),t.exports=i},function(t,e){},,function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(27),r=n(22),s=n(25),a=n(29),c=n(33)(),l=n(37),u=n(52),h=n(43),p=n(53)(),d=n(48)(),f=n(56),m=n(20),g={},v="CONVENIENT_LOGIN_WAP",y=m.get("mars_cid")||"",w=JSON.stringify({cid:y}),b=function(t,e){var n=this,i={domain_id:"",serialno:"",token:"",mobile:"",isviva:"0",toggleLogin:function(){},toggleToNormalLogin:function(t){},preMobile:""},o={$mobile:"",$authCode:"",$getAuthCode:"",$errorBox:""},r={sendCaptchaLoading:!1,captchaLoading:!1};n.ui=f.extend(!0,o,t),n.option=f.extend(!0,i,e),n.config=r};b.fn=b.prototype,b.fn.getOption=function(t){return t?this.option[t]:this.option},b.fn.setOption=function(t,e){return this.option[t]=e,this},b.fn.stopCountDown=function(){u.stop(this.ui.$getAuthCode)},b.fn.sendSmsCaptcha=function(t){var e=this,n={domain_id:e.option.domain_id,mobile:e.option.mobile,token:e.option.token,captcha:t};for(var i in n)n[i]||delete n[i];return!e.config.sendCaptchaLoading&&(e.config.sendCaptchaLoading=!0,void r.sendCaptcha(n).then(function(t){n.mobile&&(e.option.preMobile=n.mobile),p.close(),d.open("验证码已发送，请注意查收",2e3),u.start(e.ui.$getAuthCode,t),e.option.serialno=t.serialno,a.send("H5_active_new_get_smscode_click",'{"status":"1","enter":"'+e.option.enter+'"}')},function(n){var i=n.msg;e.ui.$getAuthCode.removeClass("disabled"),n.code&&200===n.code?(c.open(),p.conf({content:'<p class="dialog-content-tips">'+i+"</p>",width:"90%",btns:["取消","去登录"],onBtnClick:function(t,n){this.close(),1===n&&("1"===e.option.isviva?e.option.toggleToNormalLogin(t):e.option.toggleLogin())}}).open(),a.send("H5_active_new_phonenum_login_failed_alert",'{"reason":"'+i+'","enter":"'+e.option.enter+'"}')):n.code&&210===n.code?(c.open(),p.conf({content:'<p class="dialog-content-tips">'+i+"</p>",width:"90%",btns:["取消","账号登录"],onBtnClick:function(t,n){this.close(),1===n&&("1"===e.option.isviva?e.option.toggleToNormalLogin(t):e.option.toggleLogin())}}).open(),a.send("H5_active_new_phonenum_login_failed_alert",'{"reason":"'+i+'","enter":"'+e.option.enter+'"}')):t?(f("#J-captcha").val(""),e.refreshImgCaptcha(),f(".J-captcha-error").html(i).parent().show()):o.showError(e.ui.$errorBox,i),a.send("H5_active_new_get_smscode_click",'{"status":"0","status_des":"'+i+'","enter":"'+e.option.enter+'","code":"'+n.code+'"}')}).always(function(){e.config.sendCaptchaLoading=!1}))},b.fn.getSmsCaptcha=function(t,e,n){var i=this,u=this;t.preventDefault();var h=t.currentTarget;if(f(h).hasClass("disabled"))return!1;var d=l.mobileFastValidate(u.ui.$mobile[0],u.ui.$authCode[0],n,function(t){t.domain_id=u.option.domain_id,t.serialno=u.option.serialno});if(f(".J-mlogin-ipt-mobile").on("input propertychange",function(){this.option.smsTicket=""}),"string"!=typeof d||"手机号码不能为空"!==d&&"手机号码格式错误"!==d){o.hideError(u.ui.$errorBox),f(h).addClass("disabled");var m={mobile:o.encryptMobile(u.ui.$mobile.val()),domain_id:u.option.domain_id};if(n)if(m.scene=v,window.VipSecureCode){var y=VipSecureCode.getFpData();m.info=y?JSON.stringify(y):w}else m.info=w;var b=n?s.sendSms:r.authCode;b(m).then(function(t){if(n)return u.mloginApiSendSms(t,m,e),!1;if(u.option.token=t.token,u.option.mobile=m.mobile,t.verifyType){var i='<div class="input-wrapper">\n                    <div class="secure-code">\n                        <label for="J-captcha"></label>\n                        <input class="J-mlogin-ipt-captcha" id="J-captcha" type="text" marsSeadInput/>\n                    </div>\n                    <div class="secure-img J-freshen-sms-img"><img class="J-sms-captcha-img" src=""></div>\n                    <div class="secure-refresh J-freshen-sms-img"><i class="u-icon-refresh"></i></div>\n                </div>\n                <p class="secure-tips"><span class="J-captcha-error"></span></p>',o='<div class="J-sms-captcha-title m-sms-captcha-title">\n                    <p class="secure-doc-title">安全校验</p>\n                    <img src="" class="question-img J-auth-question-img">\n                </div>',r={title:o,content:i,width:"302px",clsName:"secure-check",btns:["取消","确认"],onOpen:function(){f(".J-freshen-sms-img").on("click",function(){u.refreshImgCaptcha(),u.showDialogErrMsg("")}),f("#J-captcha").on("input propertychange",function(){u.showDialogErrMsg("")}),f("#J-captcha").focus(),a.send("H5_refresh_fdspic",'{"isviva":"'+u.option.isviva+'","enter":"'+u.option.enter+'"}')},onBtnClick:function(t,e){if(0===e&&(this.close(),u.ui.$getAuthCode.removeClass("disabled")),1===e){var n=f("#J-captcha").val();n?(u.sendSmsCaptcha(n),a.send("H5_active_te_safe_check_ok_click",'{"status":"1","isviva":"'+u.option.isviva+'","enter":"'+u.option.enter+'"}')):f(".J-captcha-error").text("请填写图片验证码")}}};switch(String(t.verifyType)){case"1":t.captcha&&"string"==typeof t.captcha?(c.open(),p.conf(r).open(),f(".J-sms-captcha-img").attr("src","data:image/png;base64,"+t.captcha),f(".J-sms-captcha-title").addClass("doc").removeClass("img"),a.send("H5_active_te_safe_check_alert",'{"isviva":"'+u.option.isviva+'","enter":"'+u.option.enter+'"}')):u.sendSmsCaptcha();break;case"6":var s=null;try{s=JSON.parse(t.captcha||"")}catch(l){console.log("json parse error !"),s={}}s&&s.qp&&s.ap&&"string"==typeof s.qp&&"string"==typeof s.ap?(c.open(),p.conf(r).open(),f(".J-sms-captcha-img").attr("src","data:image/png;base64,"+s.ap),f(".J-sms-captcha-title").addClass("img").removeClass("doc"),f(".J-auth-question-img").attr("src","data:image/png;base64,"+s.qp),a.send("H5_active_te_safe_check_alert",'{"isviva":"'+u.option.isviva+'","enter":"'+u.option.enter+'"}')):u.sendSmsCaptcha();break;default:u.sendSmsCaptcha()}}else u.sendSmsCaptcha()},function(e){f(t.currentTarget).removeClass("disabled");var n=e.msg;e.code&&70306===e.code?(c.open(),p.conf({content:'<p class="dialog-content-tips">'+n+"</p>",width:"90%",btns:["取消","账号登录"],onBtnClick:function(t,e){this.close(),1===e&&("1"===u.option.isviva?u.option.toggleToNormalLogin(t):u.option.toggleLogin())}}).open(),a.send("H5_active_new_phonenum_login_failed_alert",'{"reason":"'+n+'","enter":"'+u.option.enter+'"}')):o.showError(u.ui.$errorBox,n),g.ticket="",i.option.smsTicket=""})}else o.showError(u.ui.$errorBox,d)},b.fn.showDialogErrMsg=function(t,e){void 0===("undefined"==typeof t?"undefined":i(t))?"网络异常，请稍后再试！":t;e&&"function"==typeof e.text?e.text(t):f(".J-captcha-error").text(t)},b.fn.mloginApiSendSms=function(t,e,n){var i=this;t.captchaType&&0!==Number(t.captchaType)?(g.captchaType=t.captchaType,g.captchaId=t.captchaId||"",g.sid=t.sid||"",window.VipSecureCode?h.vipCaptchaShow(t,g,n,function(){g.ticket&&i.sendSms(n),(g.cancel||g.close)&&(i.ui.$getAuthCode.removeClass("disabled"),g.close&&(g.ticket=""))}):(d.open("加载验证码组件失败"),i.ui.$getAuthCode.removeClass("disabled"),a.send("H5_safe_mlogin_components_load_failed",JSON.stringify({capatchType:g.captchaType,way:"accountlogin"})))):(e.mobile&&(i.option.preMobile=e.mobile),p.close(),d.open("验证码已发送，请注意查收",2e3),u.start(i.ui.$getAuthCode,t),i.ui.$authCode[0].focus(),i.option.uuid=t.uuid,i.option.processId=t.processId,i.option.authScene=t.authScene,i.option.smsTicket=t.smsTicket,a.send("H5_active_new_get_smscode_click",'{"status":"1","enter":"'+i.option.enter+'"}'))},b.fn.sendSms=function(t){var e=this,n=this,i=w;if(window.VipSecureCode){var r=VipSecureCode.getFpData();i=r?JSON.stringify(r):w}var l={mobile:o.encryptMobile(n.ui.$mobile.val()),domain_id:n.option.domain_id,scene:v,sid:g.sid,captchaType:g.captchaType,captchaId:g.captchaId,ticket:g.ticket,info:i};s.sendSms(l).then(function(e){n.mloginApiSendSms(e,l,t)},function(t){var i=t.msg;n.ui.$getAuthCode.removeClass("disabled"),t.code&&70306===t.code?(c.open(),p.conf({content:'<p class="dialog-content-tips">'+i+"</p>",width:"90%",btns:["取消","账号登录"],onBtnClick:function(t,e){this.close(),1===e&&("1"===n.option.isviva?n.option.toggleToNormalLogin(t):n.option.toggleLogin())}}).open(),a.send("H5_active_new_phonenum_login_failed_alert",'{"reason":"'+i+'","enter":"'+n.option.enter+'"}')):o.showError(n.ui.$errorBox,i),e.option.smsTicket="",g.ticket="",a.send("H5_active_new_get_smscode_click",'{"status":"0","status_des":"'+i+'","enter":"'+n.option.enter+'","code":"'+t.code+'"}')})},b.fn.refreshImgCaptcha=function(t,e,n){var i=this;if(!i.config.captchaLoading){i.config.captchaLoading=!0;var o={domain_id:e||i.option.domain_id,mobile:n||i.option.mobile,old_token:t||i.option.token};r.freshenCaptcha(o).then(function(t){if(f("#J-captcha").val(""),i.option.token=t.token,t.verifyType)switch(String(t.verifyType)){case"1":t.captcha&&"string"==typeof t.captcha?(f(".J-sms-captcha-img").attr("src","data:image/png;base64,"+t.captcha),f(".J-sms-captcha-title").addClass("doc").removeClass("img"),f("#J-captcha").focus()):i.showDialogErrMsg();break;case"6":var e=null;try{e=JSON.parse(t.captcha||"")}catch(n){console.log("json parse error !"),e={}}e&&e.qp&&e.ap&&"string"==typeof e.qp&&"string"==typeof e.ap?(f(".J-sms-captcha-img").attr("src","data:image/png;base64,"+e.ap),f(".J-auth-question-img").attr("src","data:image/png;base64,"+e.qp),f(".J-sms-captcha-title").addClass("img").removeClass("doc"),f("#J-captcha").focus()):i.showDialogErrMsg();break;default:i.showDialogErrMsg()}else i.showDialogErrMsg()},function(t){f("#J-captcha").val(""),i.showDialogErrMsg(t.msg)}).always(function(){i.config.captchaLoading=!1})}},t.exports=b},function(t,e){"use strict";function n(t,e){var n=e.interval||60,r=parseInt(n,10);t.removeClass("J-send-code-btn z-send-code"),o=setInterval(function(){r-=1,r<0?i(t):(t.html(r+"秒后重新获取"),t.addClass("disabled"))},1e3)}function i(t){o&&(clearInterval(o),t.html("重新获取"),t.addClass("J-send-code-btn z-send-code"),t.removeClass("disabled"))}var o;e.start=n,e.stop=i},function(t,e,n){"use strict";function i(){if(!(this instanceof i))return new i;if(r(),d=$("#mg-dialog"),d.length)return l;var t='<div id="mg-dialog" class="mg-dialog mg-popup none" marsSeadClick>\t            <h3 class="mg-dialog-title"></h3>\t            <section class="mg-dialog-body"></section>\t            <section class="mg-dialog-foot"></section>\t        </div>';return this.$box=d=$(t).appendTo($("body")),this.$title=d.find(".mg-dialog-title"),this.$body=d.find(".mg-dialog-body"),this.$foot=d.find(".mg-dialog-foot"),this.isOpen=!1,this.mask=m(),this.mask.associate(this),this.freeze=!0,l=this,f="fixed"===d.css("position"),o(),this}function o(){d.on("tap",function(t){t.preventDefault(),t.stopPropagation()}),d.on("close",l.close.bind(l)),d.find(".mg-dialog-close").on("tap",function(){return l.close(),!1}),l.$body.on("tap",function(t){t.stopPropagation(),h&&h.call(l,t)}),l.$foot.on("click","button",function(t){t.stopPropagation();var e=$(this),n=e.data("index")-0,i=e.html(),o=u||g;o.call(l,t,n,i)}),window.onorientationchange=r}function r(){s=document.documentElement.clientHeight,a=document.documentElement.clientWidth}n(45),n(54);var s,a,c,l,u,h,p,d,f,m=n(33),g=function(t){l&&l.close()},v=[],y=!1,w="",b=i.prototype;$.extend(b,{reset:function(){this.$box.removeClass(w),d.css({width:"auto",height:"auto",left:"auto",right:"auto",top:"auto",bottom:"auto"}),c=!1,this.setTitle(),this.$body.removeClass("left"),u=null,h=null,p=null,this.freeze=!0},setNoAnimate:function(t){y=t,this.mask.conf({noAnimate:y})},conf:function(t){var e=[].slice.call(arguments,0);if(e.length){if("string"==typeof e[0]&&(t={content:e[0]},"string"==typeof e[1]&&(t.title=e[0],t.content=e[1])),!t.content)throw Error("content required");var n=this,i=t.title;t.content;return this.reset(),this.setClass(t.clsName),this.setTitle(i),this.setContent(t.content,t.left),this.setFoot(t.btns),void 0!==t.freeze&&(this.freeze=t.freeze),u=t.onBtnClick,h=t.onContentClick,p=t.onOpen,window.requestAnimationFrame?requestAnimationFrame(function(){n.setSize(t.width,t.x,t.y,t.position)}):setTimeout(function(){n.setSize(t.width,t.x,t.y,t.position)},0),c=t.useBottom,this}},setTitle:function(t){t?this.$title.html(t).removeClass("none"):this.$title.addClass("none").html("")},setClass:function(t){t&&""!=t&&(this.$box.removeClass(w),w=t,this.$box.addClass(t))},setContent:function(t,e){if(!t)throw Error("content can not empty");this.$body.html(t),e&&this.$body.addClass("left")},setFoot:function(t){var e="";return t?(v="string"==$.type(t)?[t]:t,$.each(v,function(t,n){e+='<button data-index="'+t+'">'+n+"</button>"})):(this.freeze=!1,v=[]),this.$foot.html(e),this},setSize:function(t,e,n,i){s<10&&r();var o={};if(t&&d.css("width",t),void 0!==e?"number"==typeof e&&(e+="px"):e="100%"===t?0:(a-d.width())/2+"px",void 0!==n)"number"==typeof n&&(n+="px");else{var l=-30;n=i&&""!=i?s-d.height()+"px":(s-d.height())/2+l+"px"}return o.left=e,c?(o.top="auto",o.bottom=0):o.top=n,d.css(o),this},open:function(){if(!this.isOpen){arguments.length&&this.conf.apply(this,arguments);var t=this;return this.mask.freeze(this.freeze).scrollLock(!0).open(),y?(d.show(),this.isOpen=!0,p&&p.call(this)):d.css({display:"block"}).animate({opacity:1},200,function(){t.isOpen=!0,p&&p.call(t)}),this}},close:function(){var t=this;return y?(d.hide(),this.mask.close(),this.isOpen=!1,this.reset()):d.animate({opacity:0},60,function(){d.css("display","none"),t.mask.close(),t.isOpen=!1,t.reset()}),this}}),t.exports=i},function(t,e){},,function(t,e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t){return null==t?String(t):U[G.call(t)]||"object"}function e(e){return"function"==t(e)}function i(t){return null!=t&&t==t.window}function o(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function r(e){return"object"==t(e)}function s(t){return r(t)&&!i(t)&&Object.getPrototypeOf(t)==Object.prototype}function a(t){return"number"==typeof t.length}function c(t){return N.call(t,function(t){return null!=t})}function l(t){return t.length>0?C.fn.concat.apply([],t):t}function u(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function h(t){return t in D?D[t]:D[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function p(t,e){return"number"!=typeof e||L[u(t)]?e:e+"px"}function d(t){var e,n;return I[t]||(e=A.createElement(t),A.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),I[t]=n),I[t]}function f(t){return"children"in t?O.call(t.children):C.map(t.childNodes,function(t){if(1==t.nodeType)return t})}function m(t,e){var n,i=t?t.length:0;for(n=0;n<i;n++)this[n]=t[n];this.length=i,this.selector=e||""}function g(t,e,n){for(T in e)n&&(s(e[T])||tt(e[T]))?(s(e[T])&&!s(t[T])&&(t[T]={}),tt(e[T])&&!tt(t[T])&&(t[T]=[]),g(t[T],e[T],n)):e[T]!==_&&(t[T]=e[T])}function v(t,e){return null==e?C(t):C(t).filter(e)}function y(t,n,i,o){return e(n)?n.call(t,i,o):n}function w(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function b(t,e){var n=t.className||"",i=n&&n.baseVal!==_;return e===_?i?n.baseVal:n:void(i?n.baseVal=e:t.className=e)}function x(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?C.parseJSON(t):t):t}catch(e){return t}}function S(t,e){e(t);for(var n=0,i=t.childNodes.length;n<i;n++)S(t.childNodes[n],e)}var _,T,C,E,k,P,$=[],J=$.concat,N=$.filter,O=$.slice,A=window.document,I={},D={},L={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},j=/^\s*<(\w+|!)[^>]*>/,M=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,H=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,W=/^(?:body|html)$/i,X=/([A-Z])/g,F=["val","css","html","text","data","width","height","offset"],Y=["after","prepend","before","append"],q=A.createElement("table"),z=A.createElement("tr"),R={tr:A.createElement("tbody"),tbody:q,thead:q,tfoot:q,td:z,th:z,"*":A.createElement("div")},B=/complete|loaded|interactive/,V=/^[\w-]*$/,U={},G=U.toString,Z={},K=A.createElement("div"),Q={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},tt=Array.isArray||function(t){return t instanceof Array};return Z.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var i,o=t.parentNode,r=!o;return r&&(o=K).appendChild(t),i=~Z.qsa(o,e).indexOf(t),r&&K.removeChild(t),i},k=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},P=function(t){return N.call(t,function(e,n){return t.indexOf(e)==n})},Z.fragment=function(t,e,n){var i,o,r;return M.test(t)&&(i=C(A.createElement(RegExp.$1))),i||(t.replace&&(t=t.replace(H,"<$1></$2>")),e===_&&(e=j.test(t)&&RegExp.$1),e in R||(e="*"),r=R[e],r.innerHTML=""+t,i=C.each(O.call(r.childNodes),function(){r.removeChild(this)})),s(n)&&(o=C(i),C.each(n,function(t,e){F.indexOf(t)>-1?o[t](e):o.attr(t,e)})),i},Z.Z=function(t,e){return new m(t,e)},Z.isZ=function(t){return t instanceof Z.Z},Z.init=function(t,n){var i;if(!t)return Z.Z();if("string"==typeof t)if(t=t.trim(),"<"==t[0]&&j.test(t))i=Z.fragment(t,RegExp.$1,n),t=null;else{if(n!==_)return C(n).find(t);i=Z.qsa(A,t)}else{if(e(t))return C(A).ready(t);if(Z.isZ(t))return t;if(tt(t))i=c(t);else if(r(t))i=[t],t=null;else if(j.test(t))i=Z.fragment(t.trim(),RegExp.$1,n),t=null;else{if(n!==_)return C(n).find(t);i=Z.qsa(A,t)}}return Z.Z(i,t)},C=function(t,e){return Z.init(t,e)},C.extend=function(t){var e,n=O.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach(function(n){g(t,n,e)}),t},Z.qsa=function(t,e){var n,i="#"==e[0],o=!i&&"."==e[0],r=i||o?e.slice(1):e,s=V.test(r);return t.getElementById&&s&&i?(n=t.getElementById(r))?[n]:[]:1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType?[]:O.call(s&&!i&&t.getElementsByClassName?o?t.getElementsByClassName(r):t.getElementsByTagName(e):t.querySelectorAll(e))},C.contains=A.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},C.type=t,C.isFunction=e,C.isWindow=i,C.isArray=tt,C.isPlainObject=s,C.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},C.inArray=function(t,e,n){return $.indexOf.call(e,t,n)},C.camelCase=k,C.trim=function(t){return null==t?"":String.prototype.trim.call(t)},C.uuid=0,C.support={},C.expr={},C.noop=function(){},C.map=function(t,e){var n,i,o,r=[];if(a(t))for(i=0;i<t.length;i++)n=e(t[i],i),null!=n&&r.push(n);else for(o in t)n=e(t[o],o),null!=n&&r.push(n);return l(r)},C.each=function(t,e){var n,i;if(a(t)){for(n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(i in t)if(e.call(t[i],i,t[i])===!1)return t;return t},C.grep=function(t,e){return N.call(t,e)},window.JSON&&(C.parseJSON=JSON.parse),C.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){U["[object "+e+"]"]=e.toLowerCase()}),C.fn={constructor:Z.Z,length:0,forEach:$.forEach,reduce:$.reduce,push:$.push,sort:$.sort,splice:$.splice,indexOf:$.indexOf,concat:function(){var t,e,n=[];for(t=0;t<arguments.length;t++)e=arguments[t],n[t]=Z.isZ(e)?e.toArray():e;return J.apply(Z.isZ(this)?this.toArray():this,n)},map:function(t){return C(C.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return C(O.apply(this,arguments))},ready:function(t){return B.test(A.readyState)&&A.body?t(C):A.addEventListener("DOMContentLoaded",function(){t(C)},!1),this},get:function(t){return t===_?O.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return $.every.call(this,function(e,n){return t.call(e,n,e)!==!1}),this},filter:function(t){return e(t)?this.not(this.not(t)):C(N.call(this,function(e){return Z.matches(e,t)}))},add:function(t,e){return C(P(this.concat(C(t,e))))},is:function(t){return this.length>0&&Z.matches(this[0],t)},not:function(t){var n=[];if(e(t)&&t.call!==_)this.each(function(e){t.call(this,e)||n.push(this)});else{var i="string"==typeof t?this.filter(t):a(t)&&e(t.item)?O.call(t):C(t);this.forEach(function(t){i.indexOf(t)<0&&n.push(t)})}return C(n)},has:function(t){return this.filter(function(){return r(t)?C.contains(this,t):C(this).find(t).size()})},eq:function(t){return t===-1?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!r(t)?t:C(t)},last:function(){var t=this[this.length-1];return t&&!r(t)?t:C(t)},find:function(t){var e,i=this;return e=t?"object"==("undefined"==typeof t?"undefined":n(t))?C(t).filter(function(){var t=this;return $.some.call(i,function(e){return C.contains(e,t)})}):1==this.length?C(Z.qsa(this[0],t)):this.map(function(){return Z.qsa(this,t)}):C()},closest:function(t,e){var i=this[0],r=!1;for("object"==("undefined"==typeof t?"undefined":n(t))&&(r=C(t));i&&!(r?r.indexOf(i)>=0:Z.matches(i,t));)i=i!==e&&!o(i)&&i.parentNode;return C(i)},parents:function(t){for(var e=[],n=this;n.length>0;)n=C.map(n,function(t){if((t=t.parentNode)&&!o(t)&&e.indexOf(t)<0)return e.push(t),t});return v(e,t)},parent:function(t){return v(P(this.pluck("parentNode")),t)},children:function(t){return v(this.map(function(){return f(this)}),t)},contents:function(){return this.map(function(){return this.contentDocument||O.call(this.childNodes)})},siblings:function(t){return v(this.map(function(t,e){return N.call(f(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return C.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=d(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var n=e(t);if(this[0]&&!n)var i=C(t).get(0),o=i.parentNode||this.length>1;return this.each(function(e){C(this).wrapAll(n?t.call(this,e):o?i.cloneNode(!0):i)})},wrapAll:function(t){if(this[0]){C(this[0]).before(t=C(t));for(var e;(e=t.children()).length;)t=e.first();C(t).append(this)}return this},wrapInner:function(t){var n=e(t);return this.each(function(e){var i=C(this),o=i.contents(),r=n?t.call(this,e):t;o.length?o.wrapAll(r):i.append(r)})},unwrap:function(){return this.parent().each(function(){C(this).replaceWith(C(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=C(this);(t===_?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return C(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return C(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each(function(e){var n=this.innerHTML;C(this).empty().append(y(this,t,e,n))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var n=y(this,t,e,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(t,e){var n;return"string"!=typeof t||1 in arguments?this.each(function(n){if(1===this.nodeType)if(r(t))for(T in t)w(this,T,t[T]);else w(this,t,y(this,e,n,this.getAttribute(t)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(t))&&t in this[0]?this[0][t]:n:_},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(" ").forEach(function(t){w(this,t)},this)})},prop:function(t,e){return t=Q[t]||t,1 in arguments?this.each(function(n){this[t]=y(this,e,n,this[t])}):this[0]&&this[0][t]},data:function et(t,e){var n="data-"+t.replace(X,"-$1").toLowerCase(),et=1 in arguments?this.attr(n,e):this.attr(n);return null!==et?x(et):_},val:function(t){return 0 in arguments?this.each(function(e){
this.value=y(this,t,e,this.value)}):this[0]&&(this[0].multiple?C(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each(function(e){var n=C(this),i=y(this,t,e,n.offset()),o=n.offsetParent().offset(),r={top:i.top-o.top,left:i.left-o.left};"static"==n.css("position")&&(r.position="relative"),n.css(r)});if(!this.length)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function nt(e,n){if(arguments.length<2){var i,o=this[0];if(!o)return;if(i=getComputedStyle(o,""),"string"==typeof e)return o.style[k(e)]||i.getPropertyValue(e);if(tt(e)){var r={};return C.each(e,function(t,e){r[e]=o.style[k(e)]||i.getPropertyValue(e)}),r}}var nt="";if("string"==t(e))n||0===n?nt=u(e)+":"+p(e,n):this.each(function(){this.style.removeProperty(u(e))});else for(T in e)e[T]||0===e[T]?nt+=u(T)+":"+p(T,e[T])+";":this.each(function(){this.style.removeProperty(u(T))});return this.each(function(){this.style.cssText+=";"+nt})},index:function(t){return t?this.indexOf(C(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return!!t&&$.some.call(this,function(t){return this.test(b(t))},h(t))},addClass:function(t){return t?this.each(function(e){if("className"in this){E=[];var n=b(this),i=y(this,t,e,n);i.split(/\s+/g).forEach(function(t){C(this).hasClass(t)||E.push(t)},this),E.length&&b(this,n+(n?" ":"")+E.join(" "))}}):this},removeClass:function(t){return this.each(function(e){if("className"in this){if(t===_)return b(this,"");E=b(this),y(this,t,e,E).split(/\s+/g).forEach(function(t){E=E.replace(h(t)," ")}),b(this,E.trim())}})},toggleClass:function(t,e){return t?this.each(function(n){var i=C(this),o=y(this,t,n,b(this));o.split(/\s+/g).forEach(function(t){(e===_?!i.hasClass(t):e)?i.addClass(t):i.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return t===_?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return t===_?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),i=W.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(C(t).css("margin-top"))||0,n.left-=parseFloat(C(t).css("margin-left"))||0,i.top+=parseFloat(C(e[0]).css("border-top-width"))||0,i.left+=parseFloat(C(e[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||A.body;t&&!W.test(t.nodeName)&&"static"==C(t).css("position");)t=t.offsetParent;return t})}},C.fn.detach=C.fn.remove,["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});C.fn[t]=function(n){var r,s=this[0];return n===_?i(s)?s["inner"+e]:o(s)?s.documentElement["scroll"+e]:(r=this.offset())&&r[t]:this.each(function(e){s=C(this),s.css(t,y(this,n,e,s[t]()))})}}),Y.forEach(function(e,n){var i=n%2;C.fn[e]=function(){var e,o,r=C.map(arguments,function(n){return e=t(n),"object"==e||"array"==e||null==n?n:Z.fragment(n)}),s=this.length>1;return r.length<1?this:this.each(function(t,e){o=i?e:e.parentNode,e=0==n?e.nextSibling:1==n?e.firstChild:2==n?e:null;var a=C.contains(A.documentElement,o);r.forEach(function(t){if(s)t=t.cloneNode(!0);else if(!o)return C(t).remove();o.insertBefore(t,e),a&&S(t,function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},C.fn[i?e+"To":"insert"+(n?"Before":"After")]=function(t){return C(t)[e](this),this}}),Z.Z.prototype=m.prototype=C.fn,Z.uniq=P,Z.deserializeValue=x,C.zepto=Z,C}();t.exports=i,function(t){function e(t){return t._zid||(t._zid=p++)}function n(t,n,r,s){if(n=i(n),n.ns)var a=o(n.ns);return(g[e(t)]||[]).filter(function(t){return t&&(!n.e||t.e==n.e)&&(!n.ns||a.test(t.ns))&&(!r||e(t.fn)===e(r))&&(!s||t.sel==s)})}function i(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function o(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function r(t,e){return t.del&&!y&&t.e in w||!!e}function s(t){return b[t]||y&&w[t]||t}function a(n,o,a,c,u,p,d){var f=e(n),m=g[f]||(g[f]=[]);o.split(/\s/).forEach(function(e){if("ready"==e)return t(document).ready(a);var o=i(e);o.fn=a,o.sel=u,o.e in b&&(a=function(e){var n=e.relatedTarget;if(!n||n!==this&&!t.contains(this,n))return o.fn.apply(this,arguments)}),o.del=p;var f=p||a;o.proxy=function(t){if(t=l(t),!t.isImmediatePropagationStopped()){try{t.data=c}catch(t){console.log(t.message)}var e=f.apply(n,t._args==h?[t]:[t].concat(t._args));return e===!1&&(t.preventDefault(),t.stopPropagation()),e}},o.i=m.length,m.push(o),"addEventListener"in n&&n.addEventListener(s(o.e),o.proxy,r(o,d))})}function c(t,i,o,a,c){var l=e(t);(i||"").split(/\s/).forEach(function(e){n(t,e,o,a).forEach(function(e){delete g[l][e.i],"removeEventListener"in t&&t.removeEventListener(s(e.e),e.proxy,r(e,c))})})}function l(e,n){return!n&&e.isDefaultPrevented||(n||(n=e),t.each(T,function(t,i){var o=n[t];e[t]=function(){return this[i]=x,o&&o.apply(n,arguments)},e[i]=S}),(n.defaultPrevented!==h?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(e.isDefaultPrevented=x)),e}function u(t){var e,n={originalEvent:t};for(e in t)_.test(e)||t[e]===h||(n[e]=t[e]);return l(n,t)}var h,p=1,d=Array.prototype.slice,f=t.isFunction,m=function(t){return"string"==typeof t},g={},v={},y="onfocusin"in window,w={focus:"focusin",blur:"focusout"},b={mouseenter:"mouseover",mouseleave:"mouseout"};v.click=v.mousedown=v.mouseup=v.mousemove="MouseEvents",t.event={add:a,remove:c},t.proxy=function(n,i){var o=2 in arguments&&d.call(arguments,2);if(f(n)){var r=function(){return n.apply(i,o?o.concat(d.call(arguments)):arguments)};return r._zid=e(n),r}if(m(i))return o?(o.unshift(n[i],n),t.proxy.apply(null,o)):t.proxy(n[i],n);throw new TypeError("expected function")},t.fn.bind=function(t,e,n){return this.on(t,e,n)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,n,i){return this.on(t,e,n,i,1)};var x=function(){return!0},S=function(){return!1},_=/^([A-Z]|returnValue$|layer[XY]$)/,T={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(t,e,n){return this.on(e,t,n)},t.fn.undelegate=function(t,e,n){return this.off(e,t,n)},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,n,i,o,r){var s,l,p=this;return e&&!m(e)?(t.each(e,function(t,e){p.on(t,n,i,e,r)}),p):(m(n)||f(o)||o===!1||(o=i,i=n,n=h),o!==h&&i!==!1||(o=i,i=h),o===!1&&(o=S),p.each(function(h,p){r&&(s=function(t){return c(p,t.type,o),o.apply(this,arguments)}),n&&(l=function(e){var i,r=t(e.target).closest(n,p).get(0);if(r&&r!==p)return i=t.extend(u(e),{currentTarget:r,liveFired:p}),(s||o).apply(r,[i].concat(d.call(arguments,1)))}),a(p,e,o,i,n,l||s)}))},t.fn.off=function(e,n,i){var o=this;return e&&!m(e)?(t.each(e,function(t,e){o.off(t,n,e)}),o):(m(n)||f(i)||i===!1||(i=n,n=h),i===!1&&(i=S),o.each(function(){c(this,e,i,n)}))},t.fn.trigger=function(e,n){return e=m(e)||t.isPlainObject(e)?t.Event(e):l(e),e._args=n,this.each(function(){e.type in w&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,n)})},t.fn.triggerHandler=function(e,i){var o,r;return this.each(function(s,a){o=u(m(e)?t.Event(e):e),o._args=i,o.target=a,t.each(n(a,e.type||e),function(t,e){if(r=e.proxy(o),o.isImmediatePropagationStopped())return!1})}),r},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}}),t.Event=function(t,e){m(t)||(e=t,t=e.type);var n=document.createEvent(v[t]||"Events"),i=!0;if(e)for(var o in e)"bubbles"==o?i=!!e[o]:n[o]=e[o];return n.initEvent(t,i,!0),l(n)}}(i),function(t){function e(e,n,i){var o=t.Event(n);return t(e).trigger(o,i),!o.isDefaultPrevented()}function n(t,n,i,o){if(t.global)return e(n||y,i,o)}function i(e){e.global&&0===t.active++&&n(e,null,"ajaxStart")}function o(e){e.global&&!--t.active&&n(e,null,"ajaxStop")}function r(t,e){var i=e.context;return e.beforeSend.call(i,t,e)!==!1&&n(e,i,"ajaxBeforeSend",[t,e])!==!1&&void n(e,i,"ajaxSend",[t,e])}function s(t,e,i,o){var r=i.context,s="success";i.success.call(r,t,s,e),o&&o.resolveWith(r,[t,s,e]),n(i,r,"ajaxSuccess",[e,i,t]),c(s,e,i)}function a(t,e,i,o,r){var s=o.context;o.error.call(s,i,e,t),r&&r.rejectWith(s,[i,e,t]),n(o,s,"ajaxError",[i,o,t||e]),c(e,i,o)}function c(t,e,i){var r=i.context;i.complete.call(r,e,t),n(i,r,"ajaxComplete",[e,i]),o(i)}function l(){}function u(t){return t&&(t=t.split(";",2)[0]),t&&(t==_?"html":t==S?"json":b.test(t)?"script":x.test(t)&&"xml")||"text"}function h(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function p(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=h(e.url,e.data),e.data=void 0)}function d(e,n,i,o){return t.isFunction(n)&&(o=i,i=n,n=void 0),t.isFunction(i)||(o=i,i=void 0),{url:e,data:n,success:i,dataType:o}}function f(e,n,i,o){var r,s=t.isArray(n),a=t.isPlainObject(n);t.each(n,function(n,c){r=t.type(c),o&&(n=i?o:o+"["+(a||"object"==r||"array"==r?n:"")+"]"),!o&&s?e.add(c.name,c.value):"array"==r||!i&&"object"==r?f(e,c,i,n):e.add(n,c)})}var m,g,v=0,y=window.document,w=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,b=/^(?:text|application)\/javascript/i,x=/^(?:text|application)\/xml/i,S="application/json",_="text/html",T=/^\s*$/,C=y.createElement("a");C.href=window.location.href,t.active=0,t.ajaxJSONP=function(e,n){if(!("type"in e))return t.ajax(e);var i,o,c=e.jsonpCallback,l=(t.isFunction(c)?c():c)||"jsonp"+ ++v,u=y.createElement("script"),h=window[l],p=function(e){t(u).triggerHandler("error",e||"abort")},d={abort:p};return n&&n.promise(d),t(u).on("load error",function(r,c){clearTimeout(o),t(u).off().remove(),"error"!=r.type&&i?s(i[0],d,e,n):a(null,c||"error",d,e,n),window[l]=h,i&&t.isFunction(h)&&h(i[0]),h=i=void 0}),r(d,e)===!1?(p("abort"),d):(window[l]=function(){i=arguments},u.src=e.url.replace(/\?(.+)=\?/,"?$1="+l),y.head.appendChild(u),e.timeout>0&&(o=setTimeout(function(){p("timeout")},e.timeout)),d)},t.ajaxSettings={type:"GET",beforeSend:l,success:l,error:l,complete:l,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:S,xml:"application/xml, text/xml",html:_,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var n,o,c=t.extend({},e||{}),d=t.Deferred&&t.Deferred();for(m in t.ajaxSettings)void 0===c[m]&&(c[m]=t.ajaxSettings[m]);i(c),c.crossDomain||(n=y.createElement("a"),n.href=c.url,n.href=n.href,c.crossDomain=C.protocol+"//"+C.host!=n.protocol+"//"+n.host),c.url||(c.url=window.location.toString()),(o=c.url.indexOf("#"))>-1&&(c.url=c.url.slice(0,o)),p(c);var f=c.dataType,v=/\?.+=\?/.test(c.url);if(v&&(f="jsonp"),c.cache!==!1&&(e&&e.cache===!0||"script"!=f&&"jsonp"!=f)||(c.url=h(c.url,"_="+Date.now())),"jsonp"==f)return v||(c.url=h(c.url,c.jsonp?c.jsonp+"=?":c.jsonp===!1?"":"callback=?")),t.ajaxJSONP(c,d);var w,b=c.accepts[f],x={},S=function(t,e){x[t.toLowerCase()]=[t,e]},_=/^([\w-]+:)\/\//.test(c.url)?RegExp.$1:window.location.protocol,E=c.xhr(),k=E.setRequestHeader;if(d&&d.promise(E),c.crossDomain||S("X-Requested-With","XMLHttpRequest"),S("Accept",b||"*/*"),(b=c.mimeType||b)&&(b.indexOf(",")>-1&&(b=b.split(",",2)[0]),E.overrideMimeType&&E.overrideMimeType(b)),(c.contentType||c.contentType!==!1&&c.data&&"GET"!=c.type.toUpperCase())&&S("Content-Type",c.contentType||"application/x-www-form-urlencoded"),c.headers)for(g in c.headers)S(g,c.headers[g]);E.setRequestHeader=S;var P=!("async"in c)||c.async;if(E.open(c.type,c.url,P,c.username,c.password),E.onreadystatechange=function(){if(4==E.readyState){E.onreadystatechange=l,clearTimeout(w);var e,n=!1;if(E.status>=200&&E.status<300||304==E.status||0==E.status&&"file:"==_){f=f||u(c.mimeType||E.getResponseHeader("content-type")),e=E.responseText;try{"script"==f?(0,eval)(e):"xml"==f?e=E.responseXML:"json"==f&&(e=T.test(e)?null:t.parseJSON(e))}catch(i){n=i}n?a(n,"parsererror",E,c,d):s(e,E,c,d)}else a(E.statusText||null,E.status?"error":"abort",E,c,d)}},r(E,c)===!1)return E.abort(),a(null,"abort",E,c,d),E;if(c.xhrFields)for(g in c.xhrFields)E[g]=c.xhrFields[g];for(g in x)k.apply(E,x[g]);return c.timeout>0&&(w=setTimeout(function(){E.onreadystatechange=l,E.abort(),a(null,"timeout",E,c,d)},c.timeout)),E.send(c.data?c.data:null),E},t.get=function(){return t.ajax(d.apply(null,arguments))},t.post=function(){var e=d.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=d.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,n,i){if(!this.length)return this;var o,r=this,s=e.split(/\s/),a=d(e,n,i),c=a.success;return s.length>1&&(a.url=s[0],o=s[1]),a.success=function(e){r.html(o?t("<div>").html(e.replace(w,"")).find(o):e),c&&c.apply(r,arguments)},t.ajax(a),this};var E=encodeURIComponent;t.param=function(e,n){var i=[];return i.add=function(e,n){t.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(E(e)+"="+E(n))},f(i,e,n),i.join("&").replace(/%20/g,"+")}}(i),function(t){t.fn.serializeArray=function(){var e,n,i=[],o=function r(t){return t.forEach?t.forEach(r):void i.push({name:e,value:t})};return this[0]&&t.each(this[0].elements,function(i,r){n=r.type,e=r.name,e&&"fieldset"!=r.nodeName.toLowerCase()&&!r.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||r.checked)&&o(t(r).val())}),i},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},t.fn.submit=function(e){if(0 in arguments)this.bind("submit",e);else if(this.length){var n=t.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(i),function(){try{getComputedStyle(void 0)}catch(t){var e=getComputedStyle;window.getComputedStyle=function(t){try{return e(t)}catch(n){return null}}}}(),function(t){function e(t,e){var n=this.os={},i=this.browser={},o=t.match(/Web[kK]it[\/]{0,1}([\d.]+)/),r=t.match(/(Android);?[\s\/]+([\d.]+)?/),s=!!t.match(/\(Macintosh\; Intel /),a=t.match(/(iPad).*OS\s([\d_]+)/),c=t.match(/(iPod)(.*OS\s([\d_]+))?/),l=!a&&t.match(/(iPhone\sOS)\s([\d_]+)/),u=t.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),h=/Win\d{2}|Windows/.test(e),p=t.match(/Windows Phone ([\d.]+)/),d=u&&t.match(/TouchPad/),f=t.match(/Kindle\/([\d.]+)/),m=t.match(/Silk\/([\d._]+)/),g=t.match(/(BlackBerry).*Version\/([\d.]+)/),v=t.match(/(BB10).*Version\/([\d.]+)/),y=t.match(/(RIM\sTablet\sOS)\s([\d.]+)/),w=t.match(/PlayBook/),b=t.match(/Chrome\/([\d.]+)/)||t.match(/CriOS\/([\d.]+)/),x=t.match(/Firefox\/([\d.]+)/),S=t.match(/\((?:Mobile|Tablet); rv:([\d.]+)\).*Firefox\/[\d.]+/),_=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),T=!b&&t.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),C=T||t.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);(i.webkit=!!o)&&(i.version=o[1]),r&&(n.android=!0,n.version=r[2]),l&&!c&&(n.ios=n.iphone=!0,n.version=l[2].replace(/_/g,".")),a&&(n.ios=n.ipad=!0,n.version=a[2].replace(/_/g,".")),c&&(n.ios=n.ipod=!0,n.version=c[3]?c[3].replace(/_/g,"."):null),p&&(n.wp=!0,n.version=p[1]),u&&(n.webos=!0,n.version=u[2]),d&&(n.touchpad=!0),g&&(n.blackberry=!0,n.version=g[2]),v&&(n.bb10=!0,n.version=v[2]),y&&(n.rimtabletos=!0,n.version=y[2]),w&&(i.playbook=!0),f&&(n.kindle=!0,n.version=f[1]),m&&(i.silk=!0,i.version=m[1]),!m&&n.android&&t.match(/Kindle Fire/)&&(i.silk=!0),b&&(i.chrome=!0,i.version=b[1]),x&&(i.firefox=!0,i.version=x[1]),S&&(n.firefoxos=!0,n.version=S[1]),_&&(i.ie=!0,i.version=_[1]),C&&(s||n.ios||h)&&(i.safari=!0,n.ios||(i.version=C[1])),T&&(i.webview=!0),n.tablet=!!(a||w||r&&!t.match(/Mobile/)||x&&t.match(/Tablet/)||_&&!t.match(/Phone/)&&t.match(/Touch/)),n.phone=!(n.tablet||n.ipod||!(r||l||u||g||v||b&&t.match(/Android/)||b&&t.match(/CriOS\/([\d.]+)/)||x&&t.match(/Mobile/)||_&&t.match(/Touch/)))}e.call(t,navigator.userAgent,navigator.platform),t.__detect=e}(i),function(t,e){function i(t){return t.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function o(t){return r?r+t:t.toLowerCase()}var r,s,a,c,l,u,h,p,d,f,m="",g={Webkit:"webkit",Moz:"",O:"o"},v=document.createElement("div"),y=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,w={};t.each(g,function(t,n){if(v.style[t+"TransitionProperty"]!==e)return m="-"+t.toLowerCase()+"-",r=n,!1}),s=m+"transform",w[a=m+"transition-property"]=w[c=m+"transition-duration"]=w[u=m+"transition-delay"]=w[l=m+"transition-timing-function"]=w[h=m+"animation-name"]=w[p=m+"animation-duration"]=w[f=m+"animation-delay"]=w[d=m+"animation-timing-function"]="",t.fx={off:r===e&&v.style.transitionProperty===e,speeds:{_default:400,fast:200,slow:600},cssPrefix:m,transitionEnd:o("TransitionEnd"),animationEnd:o("AnimationEnd")},t.fn.animate=function(n,i,o,r,s){return t.isFunction(i)&&(r=i,o=e,i=e),t.isFunction(o)&&(r=o,o=e),t.isPlainObject(i)&&(o=i.easing,r=i.complete,s=i.delay,i=i.duration),i&&(i=("number"==typeof i?i:t.fx.speeds[i]||t.fx.speeds._default)/1e3),s&&(s=parseFloat(s)/1e3),this.anim(n,i,o,r,s)},t.fn.anim=function(o,r,m,g,v){var b,x,S,_={},T="",C=this,E=t.fx.transitionEnd,k=!1;if(r===e&&(r=t.fx.speeds._default/1e3),v===e&&(v=0),t.fx.off&&(r=0),"string"==typeof o)_[h]=o,_[p]=r+"s",_[f]=v+"s",_[d]=m||"linear",E=t.fx.animationEnd;else{x=[];for(b in o)y.test(b)?T+=b+"("+o[b]+") ":(_[b]=o[b],x.push(i(b)));T&&(_[s]=T,x.push(s)),r>0&&"object"===("undefined"==typeof o?"undefined":n(o))&&(_[a]=x.join(", "),_[c]=r+"s",_[u]=v+"s",_[l]=m||"linear")}return S=function(e){if("undefined"!=typeof e){if(e.target!==e.currentTarget)return;t(e.target).unbind(E,S)}else t(this).unbind(E,S);k=!0,t(this).css(w),g&&g.call(this)},r>0&&(this.bind(E,S),setTimeout(function(){k||S.call(C)},1e3*(r+v)+25)),this.size()&&this.get(0).clientLeft,this.css(_),r<=0&&setTimeout(function(){C.each(function(){S.call(this)})},0),this},v=null}(i),function(t,e){function n(n,i,o,r,s){"function"!=typeof i||s||(s=i,i=e);var a={opacity:o};return r&&(a.scale=r,n.css(t.fx.cssPrefix+"transform-origin","0 0")),n.animate(a,i,null,s)}function i(e,i,o,r){return n(e,i,0,o,function(){s.call(t(this)),r&&r.call(this)})}var o=window.document,r=(o.documentElement,t.fn.show),s=t.fn.hide,a=t.fn.toggle;t.fn.show=function(t,i){return r.call(this),t===e?t=0:this.css("opacity",0),n(this,t,1,"1,1",i)},t.fn.hide=function(t,n){return t===e?s.call(this):i(this,t,"0,0",n)},t.fn.toggle=function(n,i){return n===e||"boolean"==typeof n?a.call(this,n):this.each(function(){var e=t(this);e["none"==e.css("display")?"show":"hide"](n,i)})},t.fn.fadeTo=function(t,e,i){return n(this,t,e,null,i)},t.fn.fadeIn=function(t,e){var n=this.css("opacity");return n>0?this.css("opacity",0):n=1,r.call(this).fadeTo(t,n,e)},t.fn.fadeOut=function(t,e){return i(this,t,null,e)},t.fn.fadeToggle=function(e,n){return this.each(function(){var i=t(this);i[0==i.css("opacity")||"none"==i.css("display")?"fadeIn":"fadeOut"](e,n)})}}(i),function(t){var e,n=[];t.fn.remove=function(){return this.each(function(){this.parentNode&&("IMG"===this.tagName&&(n.push(this),this.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",e&&clearTimeout(e),e=setTimeout(function(){n=[]},6e4)),this.parentNode.removeChild(this))})}}(i),function(t){function e(e,i){var c=e[a],l=c&&o[c];if(void 0===i)return l||n(e);if(l){if(i in l)return l[i];var u=s(i);if(u in l)return l[u]}return r.call(t(e),i)}function n(e,n,r){var c=e[a]||(e[a]=++t.uuid),l=o[c]||(o[c]=i(e));return void 0!==n&&(l[s(n)]=r),l}function i(e){var n={};return t.each(e.attributes||c,function(e,i){0==i.name.indexOf("data-")&&(n[s(i.name.replace("data-",""))]=t.zepto.deserializeValue(i.value))}),n}var o={},r=t.fn.data,s=t.camelCase,a=t.expando="Zepto"+ +new Date,c=[];t.fn.data=function(i,o){return void 0===o?t.isPlainObject(i)?this.each(function(e,o){t.each(i,function(t,e){n(o,t,e)})}):0 in this?e(this[0],i):void 0:this.each(function(){n(this,i,o)})},t.fn.removeData=function(e){return"string"==typeof e&&(e=e.split(/\s+/)),this.each(function(){var n=this[a],i=n&&o[n];i&&t.each(e||i,function(t){delete i[e?s(this):t]})})},["remove","empty"].forEach(function(e){var n=t.fn[e];t.fn[e]=function(){var t=this.find("*");return"remove"===e&&(t=t.add(this)),t.removeData(),n.call(this)}})}(i),function(t){t.Callbacks=function(e){e=t.extend({},e);var n,i,o,r,s,a,c=[],l=!e.once&&[],u=function p(t){for(n=e.memory&&t,i=!0,a=r||0,r=0,s=c.length,o=!0;c&&a<s;++a)if(c[a].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}o=!1,c&&(l?l.length&&p(l.shift()):n?c.length=0:h.disable())},h={add:function d(){if(c){var i=c.length,d=function a(n){t.each(n,function(t,n){"function"==typeof n?e.unique&&h.has(n)||c.push(n):n&&n.length&&"string"!=typeof n&&a(n)})};d(arguments),o?s=c.length:n&&(r=i,u(n))}return this},remove:function(){return c&&t.each(arguments,function(e,n){for(var i;(i=t.inArray(n,c,i))>-1;)c.splice(i,1),o&&(i<=s&&--s,i<=a&&--a)}),this},has:function(e){return!(!c||!(e?t.inArray(e,c)>-1:c.length))},empty:function(){return s=c.length=0,this},disable:function(){return c=l=n=void 0,this},disabled:function(){return!c},lock:function(){return l=void 0,n||h.disable(),this},locked:function(){return!l},fireWith:function(t,e){return!c||i&&!l||(e=e||[],e=[t,e.slice?e.slice():e],o?l.push(e):u(e)),this},fire:function(){return h.fireWith(this,arguments)},fired:function(){return!!i}};return h}}(i),function(t){function e(n){var i=[["resolve","done",t.Callbacks({once:1,memory:1}),"resolved"],["reject","fail",t.Callbacks({once:1,memory:1}),"rejected"],["notify","progress",t.Callbacks({memory:1})]],o="pending",r={state:function(){return o},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var n=arguments;return e(function(e){t.each(i,function(i,o){var a=t.isFunction(n[i])&&n[i];s[o[1]](function(){var n=a&&a.apply(this,arguments);if(n&&t.isFunction(n.promise))n.promise().done(e.resolve).fail(e.reject).progress(e.notify);else{var i=this===r?e.promise():this,s=a?[n]:arguments;e[o[0]+"With"](i,s)}})}),n=null}).promise()},promise:function(e){return null!=e?t.extend(e,r):r}},s={};return t.each(i,function(t,e){var n=e[2],a=e[3];r[e[1]]=n.add,a&&n.add(function(){o=a},i[1^t][2].disable,i[2][2].lock),s[e[0]]=function(){return s[e[0]+"With"](this===s?r:this,arguments),this},s[e[0]+"With"]=n.fireWith}),r.promise(s),n&&n.call(s,s),s}var n=Array.prototype.slice;t.when=function(i){var o,r,s,a=n.call(arguments),c=a.length,l=0,u=1!==c||i&&t.isFunction(i.promise)?c:0,h=1===u?i:e(),p=function(t,e,i){return function(r){e[t]=this,i[t]=arguments.length>1?n.call(arguments):r,i===o?h.notifyWith(e,i):--u||h.resolveWith(e,i)}};if(c>1)for(o=new Array(c),r=new Array(c),s=new Array(c);l<c;++l)a[l]&&t.isFunction(a[l].promise)?a[l].promise().done(p(l,s,a)).fail(h.reject).progress(p(l,r,o)):--u;return u||h.resolveWith(s,a),h.promise()},t.Deferred=e}(i),function(t){function e(e){return e=t(e),!(!e.width()&&!e.height())&&"none"!==e.css("display")}function n(t,e){t=t.replace(/=#\]/g,'="#"]');var n,i,o=a.exec(t);if(o&&o[2]in s&&(n=s[o[2]],i=o[3],t=o[1],i)){var r=Number(i);i=isNaN(r)?i.replace(/^["']|["']$/g,""):r}return e(t,n,i)}var i=t.zepto,o=i.qsa,r=i.matches,s=t.expr[":"]={visible:function(){if(e(this))return this},hidden:function(){if(!e(this))return this},selected:function(){if(this.selected)return this},checked:function(){if(this.checked)return this},parent:function(){return this.parentNode},first:function(t){if(0===t)return this},last:function(t,e){if(t===e.length-1)return this},eq:function(t,e,n){if(t===n)return this},contains:function(e,n,i){if(t(this).text().indexOf(i)>-1)return this},has:function(t,e,n){if(i.qsa(this,n).length)return this}},a=new RegExp("(.*):(\\w+)(?:\\(([^)]+)\\))?$\\s*"),c=/^\s*>/,l="Zepto"+ +new Date;i.qsa=function(e,r){return n(r,function(n,s,a){try{var u;!n&&s?n="*":c.test(n)&&(u=t(e).addClass(l),n="."+l+" "+n);var h=o(e,n)}catch(p){throw console.error("error performing selector: %o",r),p}finally{u&&u.removeClass(l)}return s?i.uniq(t.map(h,function(t,e){return s.call(t,e,h,a)})):h})},i.matches=function(t,e){return n(e,function(e,n,i){return(!e||r(t,e))&&(!n||n.call(t,null,i)===t)})}}(i),function(t){function e(t,e,n,i){return Math.abs(t-e)>=Math.abs(n-i)?t-e>0?"Left":"Right":n-i>0?"Up":"Down"}function n(){u=null,p.last&&(p.el.trigger("longTap"),p={})}function i(){u&&clearTimeout(u),u=null}function o(){a&&clearTimeout(a),c&&clearTimeout(c),l&&clearTimeout(l),u&&clearTimeout(u),a=c=l=u=null,p={}}function r(t){return("touch"==t.pointerType||t.pointerType==t.MSPOINTER_TYPE_TOUCH)&&t.isPrimary}function s(t,e){return t.type=="pointer"+e||t.type.toLowerCase()=="mspointer"+e}var a,c,l,u,h,p={},d=750;t(document).ready(function(){var f,m,g,v,y=0,w=0;"MSGesture"in window&&(h=new MSGesture,h.target=document.body),t(document).bind("MSGestureEnd",function(t){var e=t.velocityX>1?"Right":t.velocityX<-1?"Left":t.velocityY>1?"Down":t.velocityY<-1?"Up":null;e&&(p.el.trigger("swipe"),p.el.trigger("swipe"+e))}).on("touchstart MSPointerDown pointerdown",function(e){(v=s(e,"down"))&&!r(e)||(g=v?e:e.touches[0],e.touches&&1===e.touches.length&&p.x2&&(p.x2=void 0,p.y2=void 0),f=Date.now(),m=f-(p.last||f),p.el=t("tagName"in g.target?g.target:g.target.parentNode),a&&clearTimeout(a),p.x1=g.pageX,p.y1=g.pageY,m>0&&m<=250&&(p.isDoubleTap=!0),p.last=f,u=setTimeout(n,d),h&&v&&h.addPointer(e.pointerId))}).on("touchmove MSPointerMove pointermove",function(t){(v=s(t,"move"))&&!r(t)||(g=v?t:t.touches[0],i(),p.x2=g.pageX,p.y2=g.pageY,y+=Math.abs(p.x1-p.x2),w+=Math.abs(p.y1-p.y2))}).on("touchend MSPointerUp pointerup",function(n){(v=s(n,"up"))&&!r(n)||(i(),p.x2&&Math.abs(p.x1-p.x2)>30||p.y2&&Math.abs(p.y1-p.y2)>30?l=setTimeout(function(){p.el.trigger("swipe"),p.el.trigger("swipe"+e(p.x1,p.x2,p.y1,p.y2)),p={}},0):"last"in p&&(y<30&&w<30?c=setTimeout(function(){var e=t.Event("tap");e.cancelTouch=o,p.el&&p.el.trigger(e),p.isDoubleTap?(p.el&&p.el.trigger("doubleTap"),p={}):a=setTimeout(function(){a=null,p.el&&p.el.trigger("singleTap"),p={}},250)},0):p={}),y=w=0)}).on("touchcancel MSPointerCancel pointercancel",o),t(window).on("scroll",o)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(e){t.fn[e]=function(t){return this.on(e,t)}})}(i),function(t){t.fn.end=function(){return this.prevObject||t()},t.fn.andSelf=function(){return this.add(this.prevObject||t())},"filter,add,not,eq,first,last,find,closest,parents,parent,children,siblings".split(",").forEach(function(e){var n=t.fn[e];t.fn[e]=function(){var t=n.apply(this,arguments);return t.prevObject=this,t}})}(i)},function(t,e,n){"use strict";function i(){var t="__test",e=window.localStorage;try{return e.setItem(t,"1"),e.removeItem(t),"localStorage"in window&&window.localStorage}catch(n){return n.name.toLowerCase().indexOf("quotaexceedederror")!==-1&&a("error",{error:"localstorage_full"}),!1}}function o(){var t=(new Date).getTime();for(var e in localStorage)if(localStorage.hasOwnProperty(e)){var n=localStorage.getItem(e);try{n=$.parseJSON(n)}catch(i){}if(Object.prototype.toString.call(n).toLowerCase().indexOf("array")>0){var o=n[0]&&n[0].expires;if(o&&/^\d{13,}$/.test(o)&&o<=t||"brandList_sortList"===e)localStorage.removeItem(e);else if(e.indexOf("classify")!==-1&&n[0]&&!n[0].expires){var r=void 0;if(n[0].cache_time){var s=n[0].cache_time.split(/[\s\:\-]/);r=new Date(s[0],s[1]-1,+s[2]+c,s[3],s[4],s[5])}else r=new Date(t-3600);r.getTime()<t&&localStorage.removeItem(e)}}}}function r(){}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=n(24),c=5;i()&&o();var l=i()?{set:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:86400*c,i=[];if(n){var o=(new Date).getTime();i.push({expires:o+1e3*n})}i.push(e);try{localStorage.setItem(t,JSON.stringify(i))}catch(r){r.name.toLowerCase().indexOf("quotaexceedederror")!==-1?a("error",{error:"localstorage_full"}):a("error",{error:"localstorage_write_error_"+t+"_"+JSON.stringify(i).length})}},get:function(t){var e=void 0;try{e=localStorage.getItem(t)}catch(n){e=null,a("error",{error:"localstorage_get_error_"+t})}if(null===e||void 0===e)return e="";try{e=$.parseJSON(e)}catch(n){}if("object"!==("undefined"==typeof e?"undefined":s(e)))return e;if("string"===$.type(e[0]))return e[0];if("object"===$.type(e))return e;var i=e[0]&&e[0].expires;if(i&&/^\d{13,}$/.test(i)){var o=(new Date).getTime();if(i<=o)return localStorage.removeItem(t),"";e.shift()}return e[0]},remove:function(t){try{localStorage.removeItem(t)}catch(e){a("error",{error:"localstorage_remove_error_"+t})}}}:{set:r,get:r,remove:r};t.exports=l},function(t,e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};/*! iScroll v5.1.3 ~ (c) 2008-2014 Matteo Spinelli ~ http://cubiq.org/license */
(function(e,i,o){function r(t,e){this.wrapper="string"==typeof t?i.querySelector(t):t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var n in e)this.options[n]=e[n];this.translateZ=this.options.HWCompositing&&l.hasPerspective?" translateZ(0)":"",this.options.useTransition=l.hasTransition&&this.options.useTransition,this.options.useTransform=l.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?l.ease[this.options.bounceEasing]||l.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function s(t,e,n){var o=i.createElement("div"),r=i.createElement("div");return n===!0&&(o.style.cssText="position:absolute;z-index:9999",r.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),r.className="iScrollIndicator","h"==t?(n===!0&&(o.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",r.style.height="100%"),o.className="iScrollHorizontalScrollbar"):(n===!0&&(o.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",r.style.width="100%"),o.className="iScrollVerticalScrollbar"),o.style.cssText+=";overflow:hidden",e||(o.style.pointerEvents="none"),o.appendChild(r),o}function a(t,n){this.wrapper="string"==typeof n.el?i.querySelector(n.el):n.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=t,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var o in n)this.options[o]=n[o];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(l.addEvent(this.indicator,"touchstart",this),l.addEvent(e,"touchend",this)),this.options.disablePointer||(l.addEvent(this.indicator,l.prefixPointerEvent("pointerdown"),this),l.addEvent(e,l.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(l.addEvent(this.indicator,"mousedown",this),l.addEvent(e,"mouseup",this))),this.options.fade&&(this.wrapperStyle[l.style.transform]=this.scroller.translateZ,this.wrapperStyle[l.style.transitionDuration]=l.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")}var c=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)},l=function(){function t(t){return s!==!1&&(""===s?t:s+t.charAt(0).toUpperCase()+t.substr(1))}var n={},r=i.createElement("div").style,s=function(){for(var t,e=["t","webkitT","MozT","msT","OT"],n=0,i=e.length;n<i;n++)if(t=e[n]+"ransform",t in r)return e[n].substr(0,e[n].length-1);return!1}();n.getTime=Date.now||function(){return(new Date).getTime()},n.extend=function(t,e){for(var n in e)t[n]=e[n]},n.addEvent=function(t,e,n,i){t.addEventListener(e,n,!!i)},n.removeEvent=function(t,e,n,i){t.removeEventListener(e,n,!!i)},n.prefixPointerEvent=function(t){return e.MSPointerEvent?"MSPointer"+t.charAt(9).toUpperCase()+t.substr(10):t},n.momentum=function(t,e,n,i,r,s){var a,c,l=t-e,u=o.abs(l)/n;return s=void 0===s?6e-4:s,a=t+u*u/(2*s)*(l<0?-1:1),c=u/s,a<i?(a=r?i-r/2.5*(u/8):i,l=o.abs(a-t),c=l/u):a>0&&(a=r?r/2.5*(u/8):0,l=o.abs(t)+a,c=l/u),{destination:o.round(a),duration:c}};var a=t("transform");return n.extend(n,{hasTransform:a!==!1,hasPerspective:t("perspective")in r,hasTouch:"ontouchstart"in e,hasPointer:e.PointerEvent||e.MSPointerEvent,hasTransition:t("transition")in r}),n.isBadAndroid=/Android /.test(e.navigator.appVersion)&&!/Chrome\/\d/.test(e.navigator.appVersion),n.extend(n.style={},{transform:a,transitionTimingFunction:t("transitionTimingFunction"),transitionDuration:t("transitionDuration"),transitionDelay:t("transitionDelay"),transformOrigin:t("transformOrigin")}),n.hasClass=function(t,e){var n=new RegExp("(^|\\s)"+e+"(\\s|$)");return n.test(t.className)},n.addClass=function(t,e){if(!n.hasClass(t,e)){var i=t.className.split(" ");i.push(e),t.className=i.join(" ")}},n.removeClass=function(t,e){if(n.hasClass(t,e)){var i=new RegExp("(^|\\s)"+e+"(\\s|$)","g");t.className=t.className.replace(i," ")}},n.offset=function(t){for(var e=-t.offsetLeft,n=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,n-=t.offsetTop;return{left:e,top:n}},n.preventDefaultException=function(t,e){for(var n in e)if(e[n].test(t[n]))return!0;return!1},n.extend(n.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),n.extend(n.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return o.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){var e=4;return(t-=1)*t*((e+1)*t+e)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){var e=.22,n=.4;return 0===t?0:1==t?1:n*o.pow(2,-10*t)*o.sin((t-e/4)*(2*o.PI)/e)+1}}}),n.tap=function(t,e){var n=i.createEvent("Event");n.initEvent(e,!0,!0),n.pageX=t.pageX,n.pageY=t.pageY,t.target.dispatchEvent(n)},n.click=function(t){var e,n=t.target;/(SELECT|INPUT|TEXTAREA)/i.test(n.tagName)||(e=i.createEvent("MouseEvents"),e.initMouseEvent("click",!0,!0,t.view,1,n.screenX,n.screenY,n.clientX,n.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),e._constructed=!0,n.dispatchEvent(e))},n}();r.prototype={version:"5.1.3",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(t){if((1==l.eventType[t.type]||0===t.button)&&this.enabled&&(!this.initiated||l.eventType[t.type]===this.initiated)){!this.options.preventDefault||l.isBadAndroid||l.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var e,n=t.touches?t.touches[0]:t;this.initiated=l.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=l.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,e=this.getComputedPosition(),this._translate(o.round(e.x),o.round(e.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=n.pageX,this.pointY=n.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(this.enabled&&l.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,n,i,r,s=t.touches?t.touches[0]:t,a=s.pageX-this.pointX,c=s.pageY-this.pointY,u=l.getTime();if(this.pointX=s.pageX,this.pointY=s.pageY,this.distX+=a,this.distY+=c,i=o.abs(this.distX),r=o.abs(this.distY),!(u-this.endTime>300&&i<10&&r<10)){if(this.directionLocked||this.options.freeScroll||(i>r+this.options.directionLockThreshold?this.directionLocked="h":r>=i+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);c=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);a=0}a=this.hasHorizontalScroll?a:0,c=this.hasVerticalScroll?c:0,e=this.x+a,n=this.y+c,(e>0||e<this.maxScrollX)&&(e=this.options.bounce?this.x+a/3:e>0?0:this.maxScrollX),(n>0||n<this.maxScrollY)&&(n=this.options.bounce?this.y+c/3:n>0?0:this.maxScrollY),this.directionX=a>0?-1:a<0?1:0,this.directionY=c>0?-1:c<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(e,n),u-this.startTime>300&&(this.startTime=u,this.startX=this.x,this.startY=this.y)}}},_end:function(t){if(this.enabled&&l.eventType[t.type]===this.initiated){this.options.preventDefault&&!l.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();var e,n,i=(t.changedTouches?t.changedTouches[0]:t,l.getTime()-this.startTime),r=o.round(this.x),s=o.round(this.y),a=o.abs(r-this.startX),c=o.abs(s-this.startY),u=0,h="";if(this.isInTransition=0,this.initiated=0,this.endTime=l.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(r,s),!this.moved)return this.options.tap&&l.tap(t,this.options.tap),this.options.click&&l.click(t),void this._execEvent("scrollCancel");if(this._events.flick&&i<200&&a<100&&c<100)return void this._execEvent("flick");if(this.options.momentum&&i<300&&(e=this.hasHorizontalScroll?l.momentum(this.x,this.startX,i,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:r,duration:0},n=this.hasVerticalScroll?l.momentum(this.y,this.startY,i,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:s,duration:0},r=e.destination,s=n.destination,u=o.max(e.duration,n.duration),this.isInTransition=1),this.options.snap){var p=this._nearestSnap(r,s);this.currentPage=p,u=this.options.snapSpeed||o.max(o.max(o.min(o.abs(r-p.x),1e3),o.min(o.abs(s-p.y),1e3)),300),r=p.x,s=p.y,this.directionX=0,this.directionY=0,h=this.options.bounceEasing}return r!=this.x||s!=this.y?((r>0||r<this.maxScrollX||s>0||s<this.maxScrollY)&&(h=l.ease.quadratic),void this.scrollTo(r,s,u,h)):void this._execEvent("scrollEnd")}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var e=this.x,n=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||this.y>0?n=0:this.y<this.maxScrollY&&(n=this.maxScrollY),(e!=this.x||n!=this.y)&&(this.scrollTo(e,n,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=l.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var n=this._events[t].indexOf(e);n>-1&&this._events[t].splice(n,1)}},_execEvent:function(t){if(this._events[t]){var e=0,n=this._events[t].length;if(n)for(;e<n;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,n,i){t=this.x+t,e=this.y+e,n=n||0,this.scrollTo(t,e,n,i)},scrollTo:function(t,e,n,i){i=i||l.ease.circular,this.isInTransition=this.options.useTransition&&n>0,!n||this.options.useTransition&&i.style?(this._transitionTimingFunction(i.style),this._transitionTime(n),this._translate(t,e)):this._animate(t,e,n,i.fn)},scrollToElement:function(t,e,n,i,r){if(t=t.nodeType?t:this.scroller.querySelector(t)){var s=l.offset(t);s.left-=this.wrapperOffset.left,s.top-=this.wrapperOffset.top,n===!0&&(n=o.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),i===!0&&(i=o.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),s.left-=n||0,s.top-=i||0,s.left=s.left>0?0:s.left<this.maxScrollX?this.maxScrollX:s.left,s.top=s.top>0?0:s.top<this.maxScrollY?this.maxScrollY:s.top,e=void 0===e||null===e||"auto"===e?o.max(o.abs(this.x-s.left),o.abs(this.y-s.top)):e,this.scrollTo(s.left,s.top,e,r)}},_transitionTime:function(t){if(t=t||0,this.scrollerStyle[l.style.transitionDuration]=t+"ms",!t&&l.isBadAndroid&&(this.scrollerStyle[l.style.transitionDuration]="0.001s"),this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTime(t)},_transitionTimingFunction:function(t){if(this.scrollerStyle[l.style.transitionTimingFunction]=t,this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTimingFunction(t)},_translate:function(t,e){if(this.options.useTransform?this.scrollerStyle[l.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=o.round(t),e=o.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e,this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].updatePosition()},_initEvents:function(t){var n=t?l.removeEvent:l.addEvent,i=this.options.bindToWrapper?this.wrapper:e;n(e,"orientationchange",this),n(e,"resize",this),this.options.click&&n(this.wrapper,"click",this,!0),this.options.disableMouse||(n(this.wrapper,"mousedown",this),n(i,"mousemove",this),n(i,"mousecancel",this),n(i,"mouseup",this)),l.hasPointer&&!this.options.disablePointer&&(n(this.wrapper,l.prefixPointerEvent("pointerdown"),this),n(i,l.prefixPointerEvent("pointermove"),this),n(i,l.prefixPointerEvent("pointercancel"),this),n(i,l.prefixPointerEvent("pointerup"),this)),l.hasTouch&&!this.options.disableTouch&&(n(this.wrapper,"touchstart",this),n(i,"touchmove",this),n(i,"touchcancel",this),n(i,"touchend",this)),n(this.scroller,"transitionend",this),n(this.scroller,"webkitTransitionEnd",this),n(this.scroller,"oTransitionEnd",this),n(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t,n,i=e.getComputedStyle(this.scroller,null);return this.options.useTransform?(i=i[l.style.transform].split(")")[0].split(", "),t=+(i[12]||i[4]),n=+(i[13]||i[5])):(t=+i.left.replace(/[^-\d.]/g,""),n=+i.top.replace(/[^-\d.]/g,"")),{x:t,y:n}},_initIndicators:function(){function t(t){for(var e=r.indicators.length;e--;)t.call(r.indicators[e])}var e,n=this.options.interactiveScrollbars,i="string"!=typeof this.options.scrollbars,o=[],r=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(e={el:s("v",n,this.options.scrollbars),interactive:n,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(e.el),o.push(e)),this.options.scrollX&&(e={el:s("h",n,this.options.scrollbars),interactive:n,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(e.el),o.push(e))),this.options.indicators&&(o=o.concat(this.options.indicators));for(var c=o.length;c--;)this.indicators.push(new a(this,o[c]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){t(function(){this.fade()})}),this.on("scrollCancel",function(){t(function(){this.fade()})}),this.on("scrollStart",function(){t(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){t(function(){this.fade(1,!0)})})),this.on("refresh",function(){t(function(){this.refresh()})}),this.on("destroy",function(){t(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){l.addEvent(this.wrapper,"wheel",this),l.addEvent(this.wrapper,"mousewheel",this),l.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){l.removeEvent(this.wrapper,"wheel",this),l.removeEvent(this.wrapper,"mousewheel",this),l.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(t){if(this.enabled){t.preventDefault(),t.stopPropagation();var e,n,i,r,s=this;if(void 0===this.wheelTimeout&&s._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){s._execEvent("scrollEnd"),s.wheelTimeout=void 0},400),"deltaX"in t)1===t.deltaMode?(e=-t.deltaX*this.options.mouseWheelSpeed,n=-t.deltaY*this.options.mouseWheelSpeed):(e=-t.deltaX,n=-t.deltaY);else if("wheelDeltaX"in t)e=t.wheelDeltaX/120*this.options.mouseWheelSpeed,n=t.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in t)e=n=t.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in t))return;e=n=-t.detail/3*this.options.mouseWheelSpeed}if(e*=this.options.invertWheelDirection,n*=this.options.invertWheelDirection,this.hasVerticalScroll||(e=n,n=0),this.options.snap)return i=this.currentPage.pageX,r=this.currentPage.pageY,e>0?i--:e<0&&i++,n>0?r--:n<0&&r++,void this.goToPage(i,r);i=this.x+o.round(this.hasHorizontalScroll?e:0),r=this.y+o.round(this.hasVerticalScroll?n:0),i>0?i=0:i<this.maxScrollX&&(i=this.maxScrollX),r>0?r=0:r<this.maxScrollY&&(r=this.maxScrollY),this.scrollTo(i,r,0)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var t,e,n,i,r,s,a=0,c=0,l=0,u=this.options.snapStepX||this.wrapperWidth,h=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(n=o.round(u/2),i=o.round(h/2);l>-this.scrollerWidth;){for(this.pages[a]=[],t=0,r=0;r>-this.scrollerHeight;)this.pages[a][t]={x:o.max(l,this.maxScrollX),y:o.max(r,this.maxScrollY),width:u,height:h,cx:l-n,cy:r-i},r-=h,t++;l-=u,a++}else for(s=this.options.snap,t=s.length,e=-1;a<t;a++)(0===a||s[a].offsetLeft<=s[a-1].offsetLeft)&&(c=0,e++),this.pages[c]||(this.pages[c]=[]),l=o.max(-s[a].offsetLeft,this.maxScrollX),r=o.max(-s[a].offsetTop,this.maxScrollY),n=l-o.round(s[a].offsetWidth/2),i=r-o.round(s[a].offsetHeight/2),this.pages[c][e]={x:l,y:r,width:s[a].offsetWidth,height:s[a].offsetHeight,cx:n,cy:i},l>this.maxScrollX&&c++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=o.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=o.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var t=this.options.snapSpeed||o.max(o.max(o.min(o.abs(this.x-this.startX),1e3),o.min(o.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)})},_nearestSnap:function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var n=0,i=this.pages.length,r=0;if(o.abs(t-this.absStartX)<this.snapThresholdX&&o.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;for(t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),e>0?e=0:e<this.maxScrollY&&(e=this.maxScrollY);n<i;n++)if(t>=this.pages[n][0].cx){t=this.pages[n][0].x;break}for(i=this.pages[n].length;r<i;r++)if(e>=this.pages[0][r].cy){e=this.pages[0][r].y;break}return n==this.currentPage.pageX&&(n+=this.directionX,n<0?n=0:n>=this.pages.length&&(n=this.pages.length-1),t=this.pages[n][0].x),r==this.currentPage.pageY&&(r+=this.directionY,r<0?r=0:r>=this.pages[0].length&&(r=this.pages[0].length-1),e=this.pages[0][r].y),{x:t,y:e,pageX:n,pageY:r}},goToPage:function(t,e,n,i){i=i||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:t<0&&(t=0),e>=this.pages[t].length?e=this.pages[t].length-1:e<0&&(e=0);var r=this.pages[t][e].x,s=this.pages[t][e].y;n=void 0===n?this.options.snapSpeed||o.max(o.max(o.min(o.abs(r-this.x),1e3),o.min(o.abs(s-this.y),1e3)),300):n,this.currentPage={x:r,y:s,pageX:t,pageY:e},this.scrollTo(r,s,n,i)},next:function(t,e){var n=this.currentPage.pageX,i=this.currentPage.pageY;n++,n>=this.pages.length&&this.hasVerticalScroll&&(n=0,i++),this.goToPage(n,i,t,e)},prev:function(t,e){var n=this.currentPage.pageX,i=this.currentPage.pageY;n--,n<0&&this.hasVerticalScroll&&(n=0,i--),this.goToPage(n,i,t,e)},_initKeys:function(t){var i,o={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==n(this.options.keyBindings))for(i in this.options.keyBindings)"string"==typeof this.options.keyBindings[i]&&(this.options.keyBindings[i]=this.options.keyBindings[i].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(i in o)this.options.keyBindings[i]=this.options.keyBindings[i]||o[i];l.addEvent(e,"keydown",this),this.on("destroy",function(){l.removeEvent(e,"keydown",this)})},_key:function(t){if(this.enabled){var e,n=this.options.snap,i=n?this.currentPage.pageX:this.x,r=n?this.currentPage.pageY:this.y,s=l.getTime(),a=this.keyTime||0,c=.25;switch(this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(o.round(e.x),o.round(e.y)),this.isInTransition=!1),this.keyAcceleration=s-a<200?o.min(this.keyAcceleration+c,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?i+=n?1:this.wrapperWidth:r+=n?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?i-=n?1:this.wrapperWidth:r-=n?1:this.wrapperHeight;break;case this.options.keyBindings.end:i=n?this.pages.length-1:this.maxScrollX,r=n?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:i=0,r=0;break;case this.options.keyBindings.left:i+=n?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:r+=n?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:i-=n?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:r-=n?1:5+this.keyAcceleration>>0;break;default:return}if(n)return void this.goToPage(i,r);i>0?(i=0,this.keyAcceleration=0):i<this.maxScrollX&&(i=this.maxScrollX,this.keyAcceleration=0),r>0?(r=0,this.keyAcceleration=0):r<this.maxScrollY&&(r=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(i,r,0),this.keyTime=s}},_animate:function(t,e,n,i){function o(){var p,d,f,m=l.getTime();return m>=h?(r.isAnimating=!1,r._translate(t,e),void(r.resetPosition(r.options.bounceTime)||r._execEvent("scrollEnd"))):(m=(m-u)/n,f=i(m),p=(t-s)*f+s,d=(e-a)*f+a,r._translate(p,d),void(r.isAnimating&&c(o)))}var r=this,s=this.x,a=this.y,u=l.getTime(),h=u+n;this.isAnimating=!0,o()},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":t._constructed||(t.preventDefault(),t.stopPropagation())}}},a.prototype={handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t)}},destroy:function(){this.options.interactive&&(l.removeEvent(this.indicator,"touchstart",this),l.removeEvent(this.indicator,l.prefixPointerEvent("pointerdown"),this),l.removeEvent(this.indicator,"mousedown",this),l.removeEvent(e,"touchmove",this),l.removeEvent(e,l.prefixPointerEvent("pointermove"),this),l.removeEvent(e,"mousemove",this),l.removeEvent(e,"touchend",this),l.removeEvent(e,l.prefixPointerEvent("pointerup"),this),l.removeEvent(e,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(t){var n=t.touches?t.touches[0]:t;t.preventDefault(),t.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=n.pageX,this.lastPointY=n.pageY,this.startTime=l.getTime(),this.options.disableTouch||l.addEvent(e,"touchmove",this),this.options.disablePointer||l.addEvent(e,l.prefixPointerEvent("pointermove"),this),this.options.disableMouse||l.addEvent(e,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(t){var e,n,i,o,r=t.touches?t.touches[0]:t;l.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,e=r.pageX-this.lastPointX,this.lastPointX=r.pageX,n=r.pageY-this.lastPointY,this.lastPointY=r.pageY,i=this.x+e,o=this.y+n,this._pos(i,o),t.preventDefault(),t.stopPropagation()},_end:function(t){if(this.initiated){if(this.initiated=!1,t.preventDefault(),t.stopPropagation(),l.removeEvent(e,"touchmove",this),l.removeEvent(e,l.prefixPointerEvent("pointermove"),this),l.removeEvent(e,"mousemove",this),this.scroller.options.snap){var n=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),i=this.options.snapSpeed||o.max(o.max(o.min(o.abs(this.scroller.x-n.x),1e3),o.min(o.abs(this.scroller.y-n.y),1e3)),300);this.scroller.x==n.x&&this.scroller.y==n.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=n,this.scroller.scrollTo(n.x,n.y,i,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(t){t=t||0,this.indicatorStyle[l.style.transitionDuration]=t+"ms",!t&&l.isBadAndroid&&(this.indicatorStyle[l.style.transitionDuration]="0.001s")},transitionTimingFunction:function(t){this.indicatorStyle[l.style.transitionTimingFunction]=t},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(l.addClass(this.wrapper,"iScrollBothScrollbars"),l.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(l.removeClass(this.wrapper,"iScrollBothScrollbars"),l.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=o.max(o.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=o.max(o.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var t=this.options.listenX&&o.round(this.sizeRatioX*this.scroller.x)||0,e=this.options.listenY&&o.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(t<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=o.max(this.indicatorWidth+t,8),this.indicatorStyle.width=this.width+"px"),t=this.minBoundaryX):t>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=o.max(this.indicatorWidth-(t-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",t=this.maxPosX+this.indicatorWidth-this.width):t=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),e<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=o.max(this.indicatorHeight+3*e,8),this.indicatorStyle.height=this.height+"px"),e=this.minBoundaryY):e>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=o.max(this.indicatorHeight-3*(e-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",e=this.maxPosY+this.indicatorHeight-this.height):e=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=t,this.y=e,this.scroller.options.useTransform?this.indicatorStyle[l.style.transform]="translate("+t+"px,"+e+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=t+"px",this.indicatorStyle.top=e+"px")},_pos:function(t,e){t<0?t=0:t>this.maxPosX&&(t=this.maxPosX),e<0?e=0:e>this.maxPosY&&(e=this.maxPosY),t=this.options.listenX?o.round(t/this.sizeRatioX):this.scroller.x,e=this.options.listenY?o.round(e/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(t,e)},fade:function(t,e){if(!e||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var n=t?250:500,i=t?0:300;t=t?"1":"0",this.wrapperStyle[l.style.transitionDuration]=n+"ms",this.fadeTimeout=setTimeout(function(t){this.wrapperStyle.opacity=t,this.visible=+t}.bind(this,t),i)}}},r.utils=l,"undefined"!=typeof t&&t.exports?t.exports=r:e.IScroll=r})(window,document,Math)}]);